[Header]\r\n2016-08-21 00:27:53,155   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.InsertCustomerMenu] Prepared SQL: [insert into t_menu(menu_id, reg_app_id, menu_code, parent_menu_id, menu_level, url_path, icon_path, display_index,        menu_name, user_flag, menu_eng_name,IsCanAccess,status, create_user_id, create_time, modify_user_id, modify_time,        customer_id)        values( @param0 ,  @param1 ,  @param2 ,  @param3 ,  @param4 ,  @param5 ,  @param6 ,  @param7 ,         @param8 ,  @param9 ,  @param10 , @param11 , @param12 ,  @param13 ,  @param14 ,  @param13 ,  @param15 ,         @param16 )]
2016-08-21 00:27:53,165   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.Update] Prepared SQL: [update t_def_menu set        menu_code= @param0 ,        menu_name= @param1 ,        menu_name_en= @param2 ,        url_path= @param3 ,        icon_path= @param4 ,        display_index= @param5 ,        customer_visible= @param6 ,        modify_user_id= @param7 ,        modify_user_name= @param8 ,        modify_time=getdate(),        remark= @param9         where menu_id= @param10]
2016-08-21 00:27:53,172   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.UpdateStatus] Prepared SQL: [update t_def_menu set        menu_status =  @param0 ,        modify_user_id =  @param1 ,        modify_user_name =  @param2 ,        modify_time=getdate()        where menu_id= @param3]
2016-08-21 00:27:53,172   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.UpdateVersionStatus] Prepared SQL: [update T_VocationVersionMenuMapping        set [Status] =  @param0         ,LastUpdateTime = getdate()        ,LastUpdateBy =  @param1         where VocaVerMappingID =  @param2  and AppId =  @param3  and MenuId =  @param4]
2016-08-21 00:27:53,173   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.UpdateIsCanAccess] Prepared SQL: [UPDATE  T_VocationVersionMenuMapping SET IsCanAccess= @param0           WHERE id= @param1]
2016-08-21 00:27:53,173   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.UpdateCustomerMenu] Prepared SQL: [update t_menu        set [parent_menu_id] =  @param0         ,[menu_level] =  @param1         ,[url_path] =  @param2         ,[icon_path] =  @param3         ,[display_index] =  @param4         ,[menu_name] =  @param5         ,[user_flag] =  @param6         ,[menu_eng_name] =  @param7         ,[IsCanAccess]= @param8         ,[status] =  @param9         ,[modify_user_id] =  @param10         ,[modify_time] =  @param11         where customer_id =  @param12  and reg_app_id =  @param13  and menu_code =  @param14]
2016-08-21 00:27:53,174   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.UpdateCustomerMenuByMenuID] Prepared SQL: [update t_menu        set [menu_code] =  @param0         ,[parent_menu_id] =  @param1         ,[menu_level] =  @param2         ,[url_path] =  @param3         ,[icon_path] =  @param4         ,[display_index] =  @param5         ,[menu_name] =  @param6         ,[user_flag] =  @param7         ,[menu_eng_name] =  @param8         ,[IsCanAccess]= @param9         ,[status] =  @param10         ,[modify_user_id] =  @param11         ,[modify_time] =  @param12         where menu_id =  @param13]
2016-08-21 00:27:53,174   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.UpdateNoVersionCustomerMenu] Prepared SQL: [update t_menu        set [parent_menu_id] =  @param0         ,[menu_level] =  @param1         ,[url_path] =  @param2         ,[icon_path] =  @param3         ,[display_index] =  @param4         ,[menu_name] =  @param5         ,[user_flag] =  @param6         ,[menu_eng_name] =  @param7         ,[status] =  @param8         ,[modify_user_id] =  @param9         ,[modify_time] =  @param10         where customer_id =  @param11  and reg_app_id =  @param12  and menu_code =  @param13]
2016-08-21 00:27:53,174   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [role.xml] to list of watched files.
2016-08-21 00:27:53,175   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Role.SelectByID] Prepared SQL: [select a.app_id,a.role_id,a.role_code,a.role_name,a.role_name_en,a.is_system,        a.create_user_id,a.create_time,a.modify_user_id,a.modify_time,a.sys_modify_stamp,a.create_user_name,a.modify_user_name        ,b.dd_name as is_system_desc        from t_role a        inner join vw_dic b on a.is_system=b.dd_code and b.dic_code='yes_no'        where a.role_id= @param0]
2016-08-21 00:27:53,176   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Role.Insert] Prepared SQL: [insert into t_role(app_id,role_id,role_code,role_name,role_name_en,is_system,        create_user_id,create_user_name,create_time)        values( @param0 , @param1 , @param2 , @param3 , @param4 , @param5 ,         @param6 , @param7 ,getdate())]
2016-08-21 00:27:53,176   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Role.Update] Prepared SQL: [update t_role set        role_code= @param0 ,        role_name= @param1 ,        role_name_en= @param2 ,        modify_user_id= @param3 ,        modify_user_name= @param4         modify_time=getdate()        where role_id= @param5]
2016-08-21 00:27:53,176   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Role.Delete] Prepared SQL: [delete from t_role         where 1=2]
2016-08-21 00:27:53,176   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [role_menu.xml] to list of watched files.
2016-08-21 00:27:53,176   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.RoleMenu.Insert] Prepared SQL: [insert into t_role_menu(role_menu_id,role_id,menu_id)        values( @param0 , @param1 , @param2 )]
2016-08-21 00:27:53,176   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.RoleMenu.InsertForAdminRoleOfAdminPlatform] Prepared SQL: [insert into t_role_menu(role_menu_id,role_id,menu_id)        select  @param0 ,a.role_id,c.menu_id        from t_role a, t_def_app b, t_def_menu c        where a.role_code='admin' and a.app_id=b.app_id and b.app_code='AP'        and c.menu_id= @param1  and c.app_id=b.app_id]
2016-08-21 00:27:53,176   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.RoleMenu.DeleteByRoleID] Prepared SQL: [delete from t_role_menu         where role_id= @param0]
2016-08-21 00:27:53,176   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Prop.xml] to list of watched files.
2016-08-21 00:27:53,178   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Prop.Select] Prepared SQL: [select Prop_Id        ,Prop_Code        ,Prop_Name        ,Prop_Eng_Name        ,Prop_Type        ,Parent_Prop_id        ,Prop_Level        ,Prop_Domain        ,Prop_Input_Flag        ,a.prop_max_lenth        ,Prop_Default_Value        ,status        ,Display_Index        ,Create_User_Id        ,Create_Time        ,Modify_User_Id        ,Modify_Time        ,case when status = '1' then '正常' else '删除' end Prop_Status_Desc        ,(select user_name From t_user x where x.user_id = a.create_user_id) Create_User_Name        ,(select user_name From t_user x where x.user_id = a.modify_user_id) Modify_User_Name        From t_prop a          where 1=1        and a.status = '1']
2016-08-21 00:27:53,179   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Prop.SelectFirst] Prepared SQL: [select Prop_Id        ,Prop_Code        ,Prop_Name        ,Prop_Eng_Name        ,Prop_Type        ,Parent_Prop_id        ,Prop_Level        ,Prop_Domain        ,Prop_Input_Flag        ,a.prop_max_lenth        ,Prop_Default_Value        ,status        ,Display_Index        ,Create_User_Id        ,Create_Time        ,Modify_User_Id        ,Modify_Time        ,case when status = '1' then '正常' else '删除' end Prop_Status_Desc        ,(select user_name From t_user x where x.user_id = a.create_user_id) Create_User_Name        ,(select user_name From t_user x where x.user_id = a.modify_user_id) Modify_User_Name        From t_prop a          where 1=1        and a.status = '1'              and a.Prop_Type = '1'        and a.Prop_Domain =  @param0         order by a.display_index]
2016-08-21 00:27:53,179   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Prop.SelectByParentId] Prepared SQL: [select Prop_Id        ,Prop_Code        ,Prop_Name        ,Prop_Eng_Name        ,Prop_Type        ,Parent_Prop_id        ,Prop_Level        ,Prop_Domain        ,Prop_Input_Flag        ,a.prop_max_lenth        ,Prop_Default_Value        ,status        ,Display_Index        ,Create_User_Id        ,Create_Time        ,Modify_User_Id        ,Modify_Time        ,case when status = '1' then '正常' else '删除' end Prop_Status_Desc        ,(select user_name From t_user x where x.user_id = a.create_user_id) Create_User_Name        ,(select user_name From t_user x where x.user_id = a.modify_user_id) Modify_User_Name        From t_prop a          where 1=1        and a.status = '1'              and a.Prop_Domain =  @param0         and a.Parent_Prop_id =  @param1         order by a.display_index]
2016-08-21 00:27:53,179   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Prop.SelectById] Prepared SQL: [select Prop_Id        ,Prop_Code        ,Prop_Name        ,Prop_Eng_Name        ,Prop_Type        ,Parent_Prop_id        ,Prop_Level        ,Prop_Domain        ,Prop_Input_Flag        ,a.prop_max_lenth        ,Prop_Default_Value        ,status        ,Display_Index        ,Create_User_Id        ,Create_Time        ,Modify_User_Id        ,Modify_Time        ,case when status = '1' then '正常' else '删除' end Prop_Status_Desc        ,(select user_name From t_user x where x.user_id = a.create_user_id) Create_User_Name        ,(select user_name From t_user x where x.user_id = a.modify_user_id) Modify_User_Name        From t_prop a          where 1=1        and a.status = '1'              and a.Porp_id =  @param0         order by a.display_index]
2016-08-21 00:27:53,179   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Unit.xml] to list of watched files.
2016-08-21 00:27:53,184   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.RefreshUnitMVW] Prepared SQL: [call dbms_mview.refresh('mvw_unit_level')]
2016-08-21 00:27:53,184   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.RefreshKAMVW] Prepared SQL: [call dbms_mview.refresh('mvw_ka')]
2016-08-21 00:27:53,184   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.RefreshUnitDetailMVW] Prepared SQL: [call dbms_mview.refresh('mvw_unit_detail')]
2016-08-21 00:27:53,184   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.RefreshUnitContractDiscountMVW] Prepared SQL: [call dbms_mview.refresh('mvw_unit_discount')]
2016-08-21 00:27:53,184   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.RefreshUnitContractDiscountDisMVW] Prepared SQL: [call dbms_mview.refresh('mvw_unit_discount_dis')]
2016-08-21 00:27:53,184   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.RefreshUnitContractDiscountVimMVW] Prepared SQL: [call dbms_mview.refresh('mvw_unit_discount_vim')]
2016-08-21 00:27:53,184   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.RefreshSpKAUnitMVW] Prepared SQL: [call dbms_mview.refresh('mvw_sp_ka_unit')]
2016-08-21 00:27:53,184   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.RefreshDefaultUnitMVW] Prepared SQL: [call dbms_mview.refresh('mvw_default_unit')]
2016-08-21 00:27:53,185   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectByUnitId] Prepared SQL: [select a.*, '' as unit_city_name, '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a        where a.unit_id= @param0]
2016-08-21 00:27:53,185   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectByUnitCode] Prepared SQL: [select a.*, '' as unit_city_name, '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a        where a.unit_code= @param0]
2016-08-21 00:27:53,185   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectUnitResultByUnitId] Prepared SQL: [select a.*, '' as unit_city_name, '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a        where a.unit_id= @param0]
2016-08-21 00:27:53,185   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.Select] Prepared SQL: [select distinct a.*        , '' as unit_city_name        , '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a]
2016-08-21 00:27:53,186   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectById] Prepared SQL: [select distinct a.*        , '' as unit_city_name        , '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a              where a.unit_id= @param0]
2016-08-21 00:27:53,186   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectByUserId] Prepared SQL: [select distinct a.*        , '' as unit_city_name        , '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a              inner join T_User_Role b        on(a.unit_id = b.unit_id)        where b.user_id= @param0         order by a.unit_code]
2016-08-21 00:27:53,186   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.GetBranchsByCurrentUser] Prepared SQL: [select distinct a.*        , '' as unit_city_name        , '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a              where a.unit_id in        (        select u2.unit_id        from t_user_role a, mvw_unit_level u1, mvw_unit_level u2        where a.user_id= @param0  and a.role_id= @param1         and a.unit_id=u1.unit_id and u1.path_code like u2.path_code + '%'        and u2.unit_type_id='9FFD8F2891F4416481D6B66A5FB91446'        group by u2.unit_id        )]
2016-08-21 00:27:53,186   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectByCode] Prepared SQL: [select distinct a.*        , '' as unit_city_name        , '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a              where a.unit_code= @param0]
2016-08-21 00:27:53,186   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectByUserIdAndRoleId] Prepared SQL: [select distinct a.*        , '' as unit_city_name        , '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a              where a.unit_id in (select unit_id from t_user_role where user_id= @param0  and role_id= @param1 )]
2016-08-21 00:27:53,187   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectParentUnitById] Prepared SQL: [select distinct a.*        , '' as unit_city_name        , '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a              where a.unit_id in (select src_unit_id from t_unit_relation        where dst_unit_id= @param0  and unit_relation_mode_id= @param1  and unit_relation_status=1)]
2016-08-21 00:27:53,187   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectBranchs] Prepared SQL: [select distinct a.*        , '' as unit_city_name        , '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a              inner join (select distinct r1.unit_id from mvw_unit_level r1,        (select w1.path_code, w1.unit_relation_mode_id from mvw_unit_level w1, t_def_unit_relation_mode w2        where w2.default_flag=1 and w1.unit_relation_mode_id=w2.unit_relation_mode_id and w1.unit_id in        (select distinct unit_id from t_user_role where user_id= @param0  and role_id= @param1 )) r2        where r1.path_code like r2.path_code + '%' and r1.unit_relation_mode_id=r2.unit_relation_mode_id) e        on a.unit_id=e.unit_id        inner join (select type_id from t_type where type_domain='unit_org' and type_code='BRANCH') f        on a.unit_type_id=f.type_id        where a.unit_status=1        order by a.unit_code]
2016-08-21 00:27:53,187   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectCorps] Prepared SQL: [select * from t_unit a        inner join (select type_id from t_type where type_domain='unit_org' and type_code='BRANCH') f        on a.unit_type_id=f.type_id        and exists(select 1 from t_unit_relation where src_unit_id=a.unit_id)]
2016-08-21 00:27:53,188   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectKAUnits] Prepared SQL: [select a.*, null as unit_city_name, null as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a        inner join (select * from t_type where type_code='KA' and type_domain='KA') b on a.unit_type_id=b.type_id        where a.unit_status=1        order by a.unit_name_short]
2016-08-21 00:27:53,188   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectUnitsByUserIdAndRoleId] Prepared SQL: [select a.*, null as unit_city_name, null as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a        inner join (select unit_id from t_user_role where user_id= @param0  and role_id= @param1 ) b on a.unit_id=b.unit_id]
2016-08-21 00:27:53,189   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectCustomers] Prepared SQL: [select a.*, b.object_desc as unit_city_name, c.object_desc as unit_type_name        ,f.object_desc as unit_province_name,        g.state_name as unit_state_name        from t_unit a        left join t_def_city e on e.city_id=a.unit_city_id        left join (select * from t_object_translation where language_kind_id= @param0 ) f on e.province_id=f.object_id        left join t_def_state g on e.state_id=g.state_id        left join (select * from t_object_translation where language_kind_id= @param0 ) b on a.unit_city_id=b.object_id        left join (select * from t_object_translation where language_kind_id= @param0 ) c on a.unit_type_id=c.object_id        inner join gtmp_unit e on a.unit_id=e.unit_id        order by a.unit_code]
2016-08-21 00:27:53,189   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectOutCustomers] Prepared SQL: [select a.*, b.object_desc as unit_city_name, c.object_desc as unit_type_name,        cu.collect_unit, kau.ka_unit, kabu.ka_branch, su.sale_unit, rr2.object_desc as province_name,        state.state_name,        uu.path_name,        nvl(k1.stock_code,'')+'-'+nvl(k2.stock_name,'') as stock,                cha.chl_name, chb.chl_name as chl_level                from t_unit a        left join (select * from t_object_translation where language_kind_id= @param0 ) b on a.unit_city_id=b.object_id        left join (select * from t_object_translation where language_kind_id= @param0 ) c on a.unit_type_id=c.object_id        inner join gtmp_unit e on a.unit_id=e.unit_id        inner join mvw_unit_level uu on uu.unit_id=a.unit_id and uu.f_unit_relation_mode_id='64FFDCF4FFB94834BFCC05041F51086E'          left join        (select n1.dst_unit_id unit_id, n2.unit_code + ' - ' + n2.unit_name_short collect_unit        from t_unit_relation n1, t_unit n2 where n1.unit_relation_status=1        and n2.unit_id=n1.src_unit_id and unit_relation_mode_id='C29DA6668B1340C9803F9B88C462A0A7') cu        on cu.unit_id=a.unit_id          left join        (select n1.dst_unit_id unit_id, n2.unit_name_short ka_unit        from t_unit_relation n1, t_unit n2 where n1.unit_relation_status=1        and n2.unit_id=n1.src_unit_id and unit_relation_mode_id='6953B0FB0347414E9B0F7CD6067475E1') kau        on kau.unit_id=a.unit_id          left join        (select n1.dst_unit_id unit_id, n2.unit_code + ' - ' + n2.unit_name_short ka_branch        from t_unit_relation n1, t_unit n2 where n1.unit_relation_status=1        and n2.unit_id=n1.src_unit_id and unit_relation_mode_id='B6B5C96C1BDA47AEA8878C0952AFF85F') kabu        on kabu.unit_id=a.unit_id          left join        (select n1.dst_unit_id unit_id, n2.unit_code + ' - ' + n2.unit_name_short sale_unit        from t_unit_relation n1, t_unit n2 where n1.unit_relation_status=1        and n2.unit_id=n1.src_unit_id and unit_relation_mode_id='B47DE58257AC411BAAC773274A312196') su        on su.unit_id=a.unit_id          left join vw_dim_unit_chl_l1 cha on a.unit_id=cha.unit_id        left join vw_dim_unit_chl_l2 chb on cha.unit_id=chb.unit_id          left join t_def_city rr1 on a.unit_city_id=rr1.city_id        left join (select * from t_object_translation where language_kind_id= @param0 ) rr2 on rr1.province_id=rr2.object_id        left join t_def_state state on rr1.state_id=state.state_id                left join mvw_unit_detail k1 on a.unit_id=k1.unit_id        left join t_def_stock k2 on trim(k1.stock_code)=k2.stock_code          order by uu.path_unit_code]
2016-08-21 00:27:53,189   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.CountSaleOrganization] Prepared SQL: [select nvl(count(a.unit_id),0)        from t_unit a        inner join (select * from t_type where type_domain='unit_org') b on a.unit_type_id=b.type_id        where a.unit_id= @param0]
2016-08-21 00:27:53,189   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.CountChannelCustomer] Prepared SQL: [select nvl(count(a.unit_id),0)        from t_unit a        inner join (select * from t_type where type_domain='unit_cus') b on a.unit_type_id=b.type_id        where a.unit_id= @param0]
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.TestSelect] Prepared SQL: [select a.*, '' as unit_city_name, '' as unit_type_name        , (select src_unit_id From T_Unit_Relation where dst_unit_id = a.unit_id and status='1') parent_unit_id        from t_unit a        inner join gtmp_unit b on a.unit_id=b.unit_id]
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.GetUnitDetailInfo] Prepared SQL: [select * from mvw_unit_detail where unit_id= @param0]
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.GetUnitFullName] Prepared SQL: [select path_name from mvw_unit_level        where unit_id= @param0         and unit_relation_mode_id='64FFDCF4FFB94834BFCC05041F51086E']
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.CheckUnitIsBranchUnit] Prepared SQL: [select count(*) from mvw_unit_level where level_flag=3 and unit_id= @param0]
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.CheckUnitIsAreaUnit] Prepared SQL: [select count(*) from mvw_unit_level where level_flag=4 and unit_id= @param0]
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.CheckUnitIsLevel1Unit] Prepared SQL: [select count(*) from t_unit where unit_id= @param0  and customer_level=1]
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.GetBranchUnitOfUnit] Prepared SQL: [select u2.unit_id        from mvw_unit_level u1, mvw_unit_level u2        where u1.unit_id= @param0  and u1.path_code like u2.path_code + '%'        and u2.level_flag=3 and u1.f_unit_relation_mode_id='64FFDCF4FFB94834BFCC05041F51086E']
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.CheckL1AgentUnit] Prepared SQL: [select retail_flag        from vw_l1_unit        where unit_id= @param0]
2016-08-21 00:27:53,190   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectUnitStockCode] Prepared SQL: [select a.stock_code+        case nvl(a.spare_stock_code,'--') when '--' then ''        else ','+a.spare_stock_code        end stock_code        from mvw_unit_detail a        where a.unit_id= @param0]
2016-08-21 00:27:53,191   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.GetCcType] Prepared SQL: [select c.propdetail_code        from t_unit_property a        left join t_propcode b on b.propcode_id=a.propcode_id        left join t_propdetail c on c.propdetail_id=a.propdetail_id        where 1=1        and a.propcode_id='0D483329E7D149229E7482332E057B36'        and a.unit_id= @param0]
2016-08-21 00:27:53,191   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.UnitLoadLog] Prepared SQL: [select * from t_stock_balance_upload_log        where bat_id= @param0]
2016-08-21 00:27:53,192   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectUnDownloadCount] Prepared SQL: [select count(*)        From t_unit        where isnull(if_flag,'0') = '0';]
2016-08-21 00:27:53,192   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.SelectUnDownload] Prepared SQL: [Declare @TmpTable Table        (unit_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (unit_id,row_no)        select unit_id        ,row_number() over(order by unit_code) row_no        From t_unit        where 1=1        and isnull(if_flag,'0') = '0'        and customer_id =  @param0 ;          select a.unit_id        ,a.type_id        ,a.unit_code        ,a.unit_name        ,a.unit_name_en        ,a.unit_name_short        ,a.unit_city_id        ,a.unit_address        ,a.unit_contact        ,a.unit_tel        ,a.unit_fax        ,a.unit_email        ,a.unit_postcode        ,a.unit_remark        ,a.Status        ,a.unit_flag        ,a.customer_level        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,a.status_desc        ,0 icount        ,c.type_name        ,d.city1_name + d.city2_name + d.city3_name city_name        ,e.user_name create_user_name        ,f.user_name modify_user_name        ,b.row_no        ,a.longitude        ,a.dimension        From  t_unit a        inner join @TmpTable b        on(a.unit_id = b.unit_id)        left join t_type c        on(a.type_id = c.type_id)        left join T_City d        on(a.unit_city_id = d.city_id)        left join t_user e        on(a.create_user_id = e.user_id)        left join t_user f        on(a.modify_user_id = f.user_id)        where b.row_no >  @param1         and b.row_no <=   @param2 ;]
2016-08-21 00:27:53,193   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.Insert] Prepared SQL: [insert into t_unit        (unit_id, unit_type_id, unit_code, unit_name, unit_name_en,        unit_name_short, unit_city_id, unit_address, unit_contact,        unit_tel, unit_fax, unit_email, unit_postcode, unit_remark,        unit_status, customer_level, unit_flag, last_changed)        values        ( @param0 ,  @param1 ,  @param2 ,  @param3 ,  @param4 ,  @param5 ,  @param6 ,         @param7 ,  @param8 ,  @param9 ,  @param10 ,  @param11 ,  @param12 ,         @param13 ,  @param14 ,  @param15 ,  @param16 , Fn_Mpos_Get_LastChanged())]
2016-08-21 00:27:53,193   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.InsertKAUnit] Prepared SQL: [insert into t_unit (unit_id,unit_type_id,unit_code,unit_name,unit_name_en,unit_name_short,        unit_status,customer_level,unit_flag,last_changed)        select  @param0 ,type_id, @param1 , @param1 , @param1 , @param1 ,        1,0,'U',Fn_Mpos_Get_LastChanged()        from t_type        where type_code='KA' and type_domain='KA']
2016-08-21 00:27:53,193   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.InsertUnitLoadInit] Prepared SQL: [insert into t_stock_balance_upload(upload_str,        bat_id,        create_date)        values( @param0 , @param1 , @param2 )]
2016-08-21 00:27:53,194   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.Update] Prepared SQL: [update t_unit        set unit_type_id =  @param0 ,        unit_code =  @param1 ,        unit_name =  @param2 ,        unit_name_en =  @param3 ,        unit_name_short =  @param4 ,        unit_city_id =  @param5 ,        unit_address =  @param6 ,        unit_contact =  @param7 ,        unit_tel =  @param8 ,        unit_fax =  @param9 ,        unit_email =  @param10 ,        unit_postcode =  @param11 ,        unit_remark =  @param12 ,        unit_status =  @param13 ,        customer_level =  @param14 ,        unit_flag =  @param15         ,last_changed = Fn_Mpos_Get_LastChanged()        ,if_flag = '0'        where unit_id =  @param16]
2016-08-21 00:27:53,194   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.DisableById] Prepared SQL: [update t_unit set unit_status=0 where unit_id= @param0]
2016-08-21 00:27:53,194   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.EnableById] Prepared SQL: [update t_unit set unit_status=1 where unit_id= @param0]
2016-08-21 00:27:53,194   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.UpdateUnitStatus] Prepared SQL: [update t_unit        set [status] =  @param0         ,Status_Desc =  @param1         ,Modify_Time =  @param2         ,Modify_User_Id =  @param3         ,if_flag = '0'        where unit_id =  @param4]
2016-08-21 00:27:53,194   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Unit.UpdateUnDownloadIfFlag] Prepared SQL: [update t_unit        set if_flag = '1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where bat_id =  @param2 ;]
2016-08-21 00:27:53,195   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [UnitRelationMode.xml] to list of watched files.
2016-08-21 00:27:53,195   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Item.xml] to list of watched files.
2016-08-21 00:27:53,201   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.InsertOrUpdate] Prepared SQL: [update T_Item        set item_category_id =  @param0         , item_code =  @param1         , item_name =  @param2         ,item_name_en =  @param3         , item_name_short =  @param4         ,pyzjm =  @param5         ,item_remark =  @param6         ,modify_user_id =  @param7         ,modify_time =  @param8         ,ifgifts =  @param9         ,ifoften =  @param10         ,ifservice =  @param11         ,if_flag = '0'        where item_id =  @param12 ;          insert into T_Item (        item_id        ,item_category_id        ,item_code        ,item_name        ,item_name_en        ,item_name_short        ,pyzjm        ,item_remark        ,status        ,status_desc        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        ,ifgifts        ,ifoften        ,ifservice)          select a.* From (        select  @param12  item_id        , @param0  item_category_id        , @param1  item_code        , @param2  item_name        , @param3  item_name_en        , @param4  item_name_short        , @param5  pyzjm        , @param6  item_remark        , @param13  status        , @param14  status_desc        , @param15  create_user_id        , @param16  create_time        , @param7  modify_user_id        , @param8  modify_time        , @param9  ifgifts        , @param10  ifoften        , @param11  ifservice        ) a        left join T_Item b        on(a.item_id = b.item_id)        where b.item_id is null ;]
2016-08-21 00:27:53,201   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.Select] Prepared SQL: [select        a.item_id        ,a.item_category_id        ,a.item_code        ,a.item_name        ,a.item_name_en        ,a.item_name_short        ,a.pyzjm        ,a.item_remark        ,a.status        ,a.status_desc        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_category_name from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_name        ,(select item_category_code from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_code        ,(select user_name from t_user x where x.user_id = a.create_user_id) create_user_name        ,(select user_name from t_user x where x.user_id = a.modify_user_id) modify_user_name        ,case when a.status = '1' then '正常' else '删除' end status_desc        ,a.ifgifts        ,a.ifoften        ,a.ifservice        ,a.isGB        From t_item a]
2016-08-21 00:27:53,201   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.SelectById] Prepared SQL: [select        a.item_id        ,a.item_category_id        ,a.item_code        ,a.item_name        ,a.item_name_en        ,a.item_name_short        ,a.pyzjm        ,a.item_remark        ,a.status        ,a.status_desc        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_category_name from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_name        ,(select item_category_code from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_code        ,(select user_name from t_user x where x.user_id = a.create_user_id) create_user_name        ,(select user_name from t_user x where x.user_id = a.modify_user_id) modify_user_name        ,case when a.status = '1' then '正常' else '删除' end status_desc        ,a.ifgifts        ,a.ifoften        ,a.ifservice        ,a.isGB        From t_item a                where a.item_id= @param0]
2016-08-21 00:27:53,202   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.SelectAll] Prepared SQL: [select        a.item_id        ,a.item_category_id        ,a.item_code        ,a.item_name        ,a.item_name_en        ,a.item_name_short        ,a.pyzjm        ,a.item_remark        ,a.status        ,a.status_desc        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_category_name from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_name        ,(select item_category_code from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_code        ,(select user_name from t_user x where x.user_id = a.create_user_id) create_user_name        ,(select user_name from t_user x where x.user_id = a.modify_user_id) modify_user_name        ,case when a.status = '1' then '正常' else '删除' end status_desc        ,a.ifgifts        ,a.ifoften        ,a.ifservice        ,a.isGB        From t_item a                where a.status='1'        order by a.item_code]
2016-08-21 00:27:53,203   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.SelectUnDownloadCount] Prepared SQL: [select count(*)        From t_item        where isnull(if_flag,'0') = '0';]
2016-08-21 00:27:53,203   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.SelectUnDownload] Prepared SQL: [Declare @TmpTable Table        (item_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (item_id,row_no)        select item_id        ,row_number() over(order by item_code) row_no        From T_Item        where 1=1        and isnull(if_flag,'0') = '0';          select        a.item_id        ,a.item_category_id        ,a.item_code        ,a.item_name        ,a.item_name_en        ,a.item_name_short        ,a.pyzjm        ,a.item_remark        ,a.status        ,a.status_desc        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_category_name from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_name        ,(select item_category_code from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_code        ,(select user_name from t_user x where x.user_id = a.create_user_id) create_user_name        ,(select user_name from t_user x where x.user_id = a.modify_user_id) modify_user_name        ,case when a.status = '1' then '正常' else '删除' end status_desc        ,a.ifgifts        ,a.ifoften        ,a.ifservice        From t_item a        inner join @TmpTable b        on(a.item_id = b.item_id)        and b.row_no >  @param0  and b.row_no <= @param1         order by a.item_code        ;]
2016-08-21 00:27:53,203   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.GetItemByCode] Prepared SQL: [select         a.*        ,(select item_category_name from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_name        ,(select item_category_code from T_Item_Category x where x.item_category_id = a.item_category_id) item_category_code        ,(select user_name from t_user x where x.user_id = a.create_user_id) create_user_name        ,(select user_name from t_user x where x.user_id = a.modify_user_id) modify_user_name        ,case when a.status = '1' then '正常' else '删除' end status_desc        from t_item a        where status = '1'        and a.item_code =  @param0 ;]
2016-08-21 00:27:53,204   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.UpdateStatus] Prepared SQL: [update t_item        set [status] =  @param0         ,Modify_Time =  @param1         ,Modify_User_Id =  @param2         ,if_flag = '0'        where item_id =  @param3]
2016-08-21 00:27:53,204   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Item.UpdateUnDownloadIfFlag] Prepared SQL: [update t_item        set if_flag = '1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where bat_id =  @param2 ;]
2016-08-21 00:27:53,204   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [ItemCategory.xml] to list of watched files.
2016-08-21 00:27:53,207   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemCategory.InsertOrUpdate] Prepared SQL: [update T_Item_Category        set item_category_code =  @param0         , item_category_name =  @param1         , pyzjm =  @param2         , status =  @param3         , parent_id =  @param4         , modify_user_id =  @param5         , modify_time =  @param6         where item_category_id =  @param7 ;          insert into T_Item_Category (        item_category_id        , item_category_code        , item_category_name        , pyzjm        , status        , parent_id        , create_user_id        , create_time        , modify_user_id        , modify_time)          select a.* From (        select   @param7  item_category_id        ,  @param0  item_category_code        ,  @param1  item_category_name        ,  @param2  pyzjm        ,  @param3  status        ,  @param4  parent_id        ,  @param8  create_user_id        ,  @param9  create_time        ,  @param5  modify_user_id        ,  @param6  modify_time        ) a        left join T_Item_Category b        on(a.item_category_id = b.item_category_id)        where b.item_category_id is null ;]
2016-08-21 00:27:53,207   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemCategory.Select] Prepared SQL: [select a.Item_Category_Id        ,a.Item_Category_Code        ,a.Item_Category_Name        ,a.Pyzjm        ,a.Status        ,a.Parent_Id        ,a.Create_User_Id        ,a.Create_Time        ,a.Modify_User_Id        ,a.modify_time        ,case when a.status = '1' then '正常' else '停用' end Status_Desc        ,(select USER_NAME From T_User where T_User.user_id = a.create_user_id) Create_User_Name        ,(select USER_NAME From T_User where T_User.user_id = a.modify_user_id) Modify_User_Name        ,(select item_category_name From T_Item_Category where T_Item_Category.item_category_id = a.parent_id) Parent_Name        From t_item_category a]
2016-08-21 00:27:53,208   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemCategory.SelectById] Prepared SQL: [select a.Item_Category_Id        ,a.Item_Category_Code        ,a.Item_Category_Name        ,a.Pyzjm        ,a.Status        ,a.Parent_Id        ,a.Create_User_Id        ,a.Create_Time        ,a.Modify_User_Id        ,a.modify_time        ,case when a.status = '1' then '正常' else '停用' end Status_Desc        ,(select USER_NAME From T_User where T_User.user_id = a.create_user_id) Create_User_Name        ,(select USER_NAME From T_User where T_User.user_id = a.modify_user_id) Modify_User_Name        ,(select item_category_name From T_Item_Category where T_Item_Category.item_category_id = a.parent_id) Parent_Name        From t_item_category a                      where a.item_category_id= @param0]
2016-08-21 00:27:53,208   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemCategory.SelectAll] Prepared SQL: [select a.Item_Category_Id        ,a.Item_Category_Code        ,a.Item_Category_Name        ,a.Pyzjm        ,a.Status        ,a.Parent_Id        ,a.Create_User_Id        ,a.Create_Time        ,a.Modify_User_Id        ,a.modify_time        ,case when a.status = '1' then '正常' else '停用' end Status_Desc        ,(select USER_NAME From T_User where T_User.user_id = a.create_user_id) Create_User_Name        ,(select USER_NAME From T_User where T_User.user_id = a.modify_user_id) Modify_User_Name        ,(select item_category_name From T_Item_Category where T_Item_Category.item_category_id = a.parent_id) Parent_Name        From t_item_category a                      where a.status='1']
2016-08-21 00:27:53,208   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemCategory.SelectUnDownloadCount] Prepared SQL: [select count(*)        From T_Item_Category        where isnull(if_flag,'0') = '0';]
2016-08-21 00:27:53,208   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemCategory.SelectUnDownload] Prepared SQL: [select a.Item_Category_Id        ,a.Item_Category_Code        ,a.Item_Category_Name        ,a.Pyzjm        ,a.Status        ,a.Parent_Id        ,a.Create_User_Id        ,a.Create_Time        ,a.Modify_User_Id        ,a.modify_time        ,case when a.status = '1' then '正常' else '停用' end Status_Desc        ,(select USER_NAME From T_User where T_User.user_id = a.create_user_id) Create_User_Name        ,(select USER_NAME From T_User where T_User.user_id = a.modify_user_id) Modify_User_Name        ,(select item_category_name From T_Item_Category where T_Item_Category.item_category_id = a.parent_id) Parent_Name        From t_item_category a                      where isnull(if_flag,'0') = '0';]
2016-08-21 00:27:53,209   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemCategory.UpdateStatus] Prepared SQL: [update t_item_category        set [status] =  @param0         ,Modify_Time =  @param1         ,Modify_User_Id =  @param2         where item_category_id =  @param3]
2016-08-21 00:27:53,209   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemCategory.UpdateUnDownloadIfFlag] Prepared SQL: [update T_Item_Category        set if_flag = '1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where bat_id =  @param2 ;]
2016-08-21 00:27:53,209   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [ItemPrice.xml] to list of watched files.
2016-08-21 00:27:53,210   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPrice.Select] Prepared SQL: [select a.item_price_id        ,a.item_id        ,a.item_price_type_id        ,a.item_price        ,a.status        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_price_type_name  from t_item_price_type x where x.item_price_type_id = a.item_price_type_id) item_price_type_name        From T_Item_Price a]
2016-08-21 00:27:53,210   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPrice.SelectById] Prepared SQL: [select a.item_price_id        ,a.item_id        ,a.item_price_type_id        ,a.item_price        ,a.status        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_price_type_name  from t_item_price_type x where x.item_price_type_id = a.item_price_type_id) item_price_type_name        From T_Item_Price a                where a.item_price_id= @param0]
2016-08-21 00:27:53,211   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPrice.SelectAll] Prepared SQL: [select a.item_price_id        ,a.item_id        ,a.item_price_type_id        ,a.item_price        ,a.status        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_price_type_name  from t_item_price_type x where x.item_price_type_id = a.item_price_type_id) item_price_type_name        From T_Item_Price a                where a.status='1']
2016-08-21 00:27:53,211   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPrice.SelectByItemId] Prepared SQL: [select a.item_price_id        ,a.item_id        ,a.item_price_type_id        ,a.item_price        ,a.status        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_price_type_name  from t_item_price_type x where x.item_price_type_id = a.item_price_type_id) item_price_type_name        From T_Item_Price a                where a.item_id= @param0         and a.status = '1']
2016-08-21 00:27:53,211   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPrice.SelectUnDownloadCount] Prepared SQL: [select count(*)        From t_item_price        where isnull(if_flag,'0') = '0'        and item_price_type_id =  @param0 ;]
2016-08-21 00:27:53,211   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPrice.SelectUnDownload] Prepared SQL: [Declare @TmpTable Table        (item_price_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (item_price_id,row_no)        select item_price_id        ,row_number() over(order by item_price_id) row_no        From T_Item_price        where 1=1        and isnull(if_flag,'0') = '0'        and item_price_type_id =  @param0 ;          select        a.item_price_id        ,a.item_id        ,a.item_price_type_id        ,a.item_price        ,a.status        ,a.create_user_id        ,a.create_time        ,a.modify_user_id        ,a.modify_time        ,(select item_price_type_name  from t_item_price_type x where x.item_price_type_id = a.item_price_type_id) item_price_type_name        From t_item_price a        inner join @TmpTable b        on(a.item_price_id = b.item_price_id)        and b.row_no >  @param1  and b.row_no <= @param2         ;]
2016-08-21 00:27:53,211   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPrice.UpdateStatus] Prepared SQL: [update T_Item_Price        set [status] =  @param0         ,Modify_Time =  @param1         ,Modify_User_Id =  @param2         where item_price_id =  @param3]
2016-08-21 00:27:53,211   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPrice.UpdateUnDownloadIfFlag] Prepared SQL: [update t_item_price        set if_flag = '1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where bat_id =  @param2 ;]
2016-08-21 00:27:53,211   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [ItemPriceType.xml] to list of watched files.
2016-08-21 00:27:53,212   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPriceType.Select] Prepared SQL: [select item_price_type_id        ,item_price_type_code        ,item_price_type_name        ,status        ,create_time        ,create_user_id        ,modify_time        ,modify_user_id         From T_Item_Price_Type a]
2016-08-21 00:27:53,212   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPriceType.SelectById] Prepared SQL: [select item_price_type_id        ,item_price_type_code        ,item_price_type_name        ,status        ,create_time        ,create_user_id        ,modify_time        ,modify_user_id         From T_Item_Price_Type a                where a.item_price_type_id= @param0]
2016-08-21 00:27:53,212   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPriceType.SelectAll] Prepared SQL: [select item_price_type_id        ,item_price_type_code        ,item_price_type_name        ,status        ,create_time        ,create_user_id        ,modify_time        ,modify_user_id         From T_Item_Price_Type a                where a.status='1']
2016-08-21 00:27:53,212   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemPriceType.UpdateStatus] Prepared SQL: [update T_Item_Price_Type        set [status] =  @param0         ,Modify_Time =  @param1         ,Modify_User_Id =  @param2         where item_price_type_id =  @param3]
2016-08-21 00:27:53,213   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [ItemProp.xml] to list of watched files.
2016-08-21 00:27:53,215   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemProp.Select] Prepared SQL: [select a.*        From (        select a.item_property_id        ,a.item_id        ,(select prop_id From t_prop where t_prop.prop_id = b.parent_prop_id) PropertyCodeGroupId        ,(select prop_name From t_prop where t_prop.prop_id = b.parent_prop_id) PropertyCodeGroupName        ,(select display_index From t_prop where t_prop.prop_id = b.parent_prop_id) PropertyCodeGroupDisplay        ,a.prop_id PropertyCodeId        ,b.prop_name PropertyCodeName        ,(select prop_id From t_prop where t_prop.prop_id = a.prop_value) PropertyDetailId        ,case when (select prop_name From t_prop where t_prop.prop_id = a.prop_value) is null        then a.prop_value        else (select prop_name From t_prop where t_prop.prop_id = a.prop_value)        end PropertyCodeValue        ,a.Status        ,b.display_index PropertyCodeDisplay        From T_Item_Property a        inner join T_Prop b        on(a.prop_id = b.prop_id)        where 1=1        and a.[status] = '1'        and b.[status] = '1'        ) a        where 1=1]
2016-08-21 00:27:53,216   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemProp.SelectByItemId] Prepared SQL: [select a.*        From (        select a.item_property_id        ,a.item_id        ,(select prop_id From t_prop where t_prop.prop_id = b.parent_prop_id) PropertyCodeGroupId        ,(select prop_name From t_prop where t_prop.prop_id = b.parent_prop_id) PropertyCodeGroupName        ,(select display_index From t_prop where t_prop.prop_id = b.parent_prop_id) PropertyCodeGroupDisplay        ,a.prop_id PropertyCodeId        ,b.prop_name PropertyCodeName        ,(select prop_id From t_prop where t_prop.prop_id = a.prop_value) PropertyDetailId        ,case when (select prop_name From t_prop where t_prop.prop_id = a.prop_value) is null        then a.prop_value        else (select prop_name From t_prop where t_prop.prop_id = a.prop_value)        end PropertyCodeValue        ,a.Status        ,b.display_index PropertyCodeDisplay        From T_Item_Property a        inner join T_Prop b        on(a.prop_id = b.prop_id)        where 1=1        and a.[status] = '1'        and b.[status] = '1'        ) a        where 1=1              and a.item_id = isnull( @param0 ,a.item_id)        order by a.PropertyCodeGroupDisplay,a.PropertyCodeDisplay]
2016-08-21 00:27:53,216   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ItemProp.SelectItemProp] Prepared SQL: [select a.prop_id        ,a.prop_code        ,a.prop_name        ,a.display_index        From T_Prop a        inner join T_Prop b        on(a.parent_prop_id = b.prop_id)        where a.prop_domain='ITEM'        and a.prop_level = '2'        and a.status = '1'        order by b.display_index,a.display_index;]
2016-08-21 00:27:53,216   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Sku.xml] to list of watched files.
2016-08-21 00:27:53,221   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.Select] Prepared SQL: [select sku_id        ,item_id        ,prop_1_detail_id        ,prop_1_detail_name        ,prop_2_detail_id        ,prop_2_detail_name        ,prop_3_detail_id        ,prop_3_detail_name        ,prop_4_detail_id        ,prop_4_detail_name        ,prop_5_detail_id        ,prop_5_detail_name        ,prop_1_detail_code        ,prop_2_detail_code        ,prop_3_detail_code        ,prop_4_detail_code        ,prop_5_detail_code        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        ,item_name        ,item_code        ,prop_1_id        ,prop_1_name        ,prop_2_id        ,prop_2_name        ,prop_3_id        ,prop_3_name        ,prop_4_id        ,prop_4_name        ,prop_5_id        ,prop_5_name        ,barcode        ,prop_1_code        ,prop_2_code        ,prop_3_code        ,prop_4_code        ,prop_5_code        from vw_sku a]
2016-08-21 00:27:53,221   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.SelectById] Prepared SQL: [select sku_id        ,item_id        ,prop_1_detail_id        ,prop_1_detail_name        ,prop_2_detail_id        ,prop_2_detail_name        ,prop_3_detail_id        ,prop_3_detail_name        ,prop_4_detail_id        ,prop_4_detail_name        ,prop_5_detail_id        ,prop_5_detail_name        ,prop_1_detail_code        ,prop_2_detail_code        ,prop_3_detail_code        ,prop_4_detail_code        ,prop_5_detail_code        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        ,item_name        ,item_code        ,prop_1_id        ,prop_1_name        ,prop_2_id        ,prop_2_name        ,prop_3_id        ,prop_3_name        ,prop_4_id        ,prop_4_name        ,prop_5_id        ,prop_5_name        ,barcode        ,prop_1_code        ,prop_2_code        ,prop_3_code        ,prop_4_code        ,prop_5_code        from vw_sku a              where a.sku_id= @param0]
2016-08-21 00:27:53,221   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.SelectAll] Prepared SQL: [select sku_id        ,item_id        ,prop_1_detail_id        ,prop_1_detail_name        ,prop_2_detail_id        ,prop_2_detail_name        ,prop_3_detail_id        ,prop_3_detail_name        ,prop_4_detail_id        ,prop_4_detail_name        ,prop_5_detail_id        ,prop_5_detail_name        ,prop_1_detail_code        ,prop_2_detail_code        ,prop_3_detail_code        ,prop_4_detail_code        ,prop_5_detail_code        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        ,item_name        ,item_code        ,prop_1_id        ,prop_1_name        ,prop_2_id        ,prop_2_name        ,prop_3_id        ,prop_3_name        ,prop_4_id        ,prop_4_name        ,prop_5_id        ,prop_5_name        ,barcode        ,prop_1_code        ,prop_2_code        ,prop_3_code        ,prop_4_code        ,prop_5_code        from vw_sku a              where a.status='1']
2016-08-21 00:27:53,222   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.SelectByItemId] Prepared SQL: [select sku_id        ,item_id        ,prop_1_detail_id        ,prop_1_detail_name        ,prop_2_detail_id        ,prop_2_detail_name        ,prop_3_detail_id        ,prop_3_detail_name        ,prop_4_detail_id        ,prop_4_detail_name        ,prop_5_detail_id        ,prop_5_detail_name        ,prop_1_detail_code        ,prop_2_detail_code        ,prop_3_detail_code        ,prop_4_detail_code        ,prop_5_detail_code        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        ,item_name        ,item_code        ,prop_1_id        ,prop_1_name        ,prop_2_id        ,prop_2_name        ,prop_3_id        ,prop_3_name        ,prop_4_id        ,prop_4_name        ,prop_5_id        ,prop_5_name        ,barcode        ,prop_1_code        ,prop_2_code        ,prop_3_code        ,prop_4_code        ,prop_5_code        from vw_sku a              where a.item_id= @param0         and a.status = '1'        order by a.item_code,a.barcode]
2016-08-21 00:27:53,222   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.SelectByCondition] Prepared SQL: [select sku_id        ,item_id        ,item_code        ,prop_1_detail_id        ,prop_1_detail_name        ,prop_2_detail_id        ,prop_2_detail_name        ,prop_3_detail_id        ,prop_3_detail_name        ,prop_4_detail_id        ,prop_4_detail_name        ,prop_5_detail_id        ,prop_5_detail_name        ,prop_1_detail_code        ,prop_2_detail_code        ,prop_3_detail_code        ,prop_4_detail_code        ,prop_5_detail_code        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        ,item_name        ,item_code        ,prop_1_id        ,prop_1_name        ,prop_2_id        ,prop_2_name        ,prop_3_id        ,prop_3_name        ,prop_4_id        ,prop_4_name        ,prop_5_id        ,prop_5_name        ,barcode        ,prop_1_code        ,prop_2_code        ,prop_3_code        ,prop_4_code        ,prop_5_code        From (        select a.*        ,row_no=row_number() over(order by a.sku_id)        from vw_sku a        where a.item_code like '%' +  @param0  + '%'        or a.item_name like '%' +  @param0  + '%'        or a.prop_1_detail_code like '%' +  @param0  + '%'        or a.prop_2_detail_code like '%' +  @param0  + '%'        or a.prop_3_detail_code like '%' +  @param0  + '%'        or a.prop_4_detail_code like '%' +  @param0  + '%'        or a.prop_5_detail_code like '%' +  @param0  + '%'        ) x where x.row_no > 0 and x.row_no <= 10        order by x.item_code,x.barcode        ;]
2016-08-21 00:27:53,222   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.GetSkuByBarcode] Prepared SQL: [select sku_id        ,item_id        ,item_code        ,prop_1_detail_id        ,prop_1_detail_name        ,prop_2_detail_id        ,prop_2_detail_name        ,prop_3_detail_id        ,prop_3_detail_name        ,prop_4_detail_id        ,prop_4_detail_name        ,prop_5_detail_id        ,prop_5_detail_name        ,prop_1_detail_code        ,prop_2_detail_code        ,prop_3_detail_code        ,prop_4_detail_code        ,prop_5_detail_code        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        ,item_name        ,item_code        ,prop_1_id        ,prop_1_name        ,prop_2_id        ,prop_2_name        ,prop_3_id        ,prop_3_name        ,prop_4_id        ,prop_4_name        ,prop_5_id        ,prop_5_name        ,barcode        ,prop_1_code        ,prop_2_code        ,prop_3_code        ,prop_4_code        ,prop_5_code        From (        select a.*        ,row_no=row_number() over(order by a.sku_id)        from vw_sku a        where a.barcode =  @param0         ) x where x.row_no > 0 and x.row_no <= 10        order by x.item_code,x.barcode        ;]
2016-08-21 00:27:53,222   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.SelectUnDownloadCount] Prepared SQL: [select count(*)        From t_sku        where isnull(if_flag,'0') = '0';]
2016-08-21 00:27:53,223   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.SelectUnDownload] Prepared SQL: [Declare @TmpTable Table        (sku_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (sku_id,row_no)        select sku_id        ,row_number() over(order by sku_id) row_no        From t_sku        where 1=1        and isnull(if_flag,'0') = '0';          select        a.sku_id        ,item_id        ,prop_1_detail_id        ,prop_1_detail_name        ,prop_2_detail_id        ,prop_2_detail_name        ,prop_3_detail_id        ,prop_3_detail_name        ,prop_4_detail_id        ,prop_4_detail_name        ,prop_5_detail_id        ,prop_5_detail_name        ,prop_1_detail_code        ,prop_2_detail_code        ,prop_3_detail_code        ,prop_4_detail_code        ,prop_5_detail_code        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        ,item_name        ,item_code        ,prop_1_id        ,prop_1_name        ,prop_2_id        ,prop_2_name        ,prop_3_id        ,prop_3_name        ,prop_4_id        ,prop_4_name        ,prop_5_id        ,prop_5_name        ,barcode        ,prop_1_code        ,prop_2_code        ,prop_3_code        ,prop_4_code        ,prop_5_code        From vw_sku a        inner join @TmpTable b        on(a.sku_id = b.sku_id)        and b.row_no >  @param0  and b.row_no <= @param1         order by a.item_code,a.barcode        ;]
2016-08-21 00:27:53,223   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Sku.UpdateUnDownloadIfFlag] Prepared SQL: [update t_sku        set if_flag = '1'        ,modify_time =  @param0         ,modify_user_id =  @param1         where bat_id =  @param2 ;]
2016-08-21 00:27:53,223   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [SkuProp.xml] to list of watched files.
2016-08-21 00:27:53,225   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuProp.Select] Prepared SQL: [select a.sku_prop_id        ,a.prop_id        ,a.display_index        ,b.prop_code        ,b.prop_name        ,b.prop_input_flag        From T_SKU_PROPerty a        inner join T_Prop b        on(a.prop_id = b.prop_id)        where a.status = '1'        and b.status = '1'        order by a.display_index]
2016-08-21 00:27:53,225   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [SkuPrice.xml] to list of watched files.
2016-08-21 00:27:53,227   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.InsertOrUpdateSkuUnitPrice] Prepared SQL: [update t_sku_unit_price        set item_price_type_id =  @param0         ,sku_id =  @param1         ,unit_id =  @param2         ,price =  @param3         ,status =  @param4         ,start_date =  @param5         ,end_date =  @param6         ,modify_user_id =  @param7         ,modify_time =  @param8         where sku_unit_price_id =  @param9 ;          insert into t_sku_unit_price (        sku_unit_price_id        ,sku_id        ,unit_id        ,item_price_type_id        ,price        ,start_date        ,end_date        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        )        select a.* from (        select  @param9  sku_unit_price_id        , @param1  sku_id        , @param2  unit_id        , @param0  item_price_type_id        , @param3  price        , @param5  start_date        , @param6  end_date        , @param4  status        , @param10  create_user_id        , @param11  create_time        , @param7  modify_user_id        , @param8  modify_time        ) a        left join t_sku_unit_price b        on(a.sku_unit_price_id = b.sku_unit_price_id)        where b.sku_unit_price_id is null;]
2016-08-21 00:27:53,227   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.Select] Prepared SQL: [select a.sku_id        ,a.item_id        ,a.item_price_type_id        ,a.price        ,a.unit_id        From vw_sku_price a]
2016-08-21 00:27:53,227   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.SelectById] Prepared SQL: [select a.sku_id        ,a.item_id        ,a.item_price_type_id        ,a.price        ,a.unit_id        From vw_sku_price a                where a.sku_id= @param0         and a.item_price_type_id =  @param1]
2016-08-21 00:27:53,227   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.SelectAll] Prepared SQL: [select a.sku_id        ,a.item_id        ,a.item_price_type_id        ,a.price        ,a.unit_id        From vw_sku_price a                where 1=1]
2016-08-21 00:27:53,227   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.SelectByItemId] Prepared SQL: [select a.sku_id        ,a.item_id        ,a.item_price_type_id        ,a.price        ,a.unit_id        From vw_sku_price a                where a.item_id= @param0]
2016-08-21 00:27:53,227   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.SelectUnDownloadCount] Prepared SQL: [select count(*)        From vw_sku_price        where isnull(if_flag,'0') = '0'        and item_price_type_id =  @param0 ;]
2016-08-21 00:27:53,227   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.SelectUnDownload] Prepared SQL: [Declare @TmpTable Table        (sku_id nvarchar(100)        ,item_price_type_id nvarchar(100)        ,unit_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (sku_id,item_price_type_id,unit_id,row_no)        select sku_id        ,item_price_type_id        ,unit_id        ,row_number() over(order by sku_id,item_price_type_id) row_no        From vw_sku_price        where 1=1        and isnull(if_flag,'0') = '0'        and item_price_type_id =  @param0 ;          select        a.sku_id        ,a.item_id        ,a.item_price_type_id        ,a.price        ,a.unit_id        From vw_sku_price a        inner join @TmpTable b        on(a.sku_id = b.sku_id        and a.item_price_type_id = b.item_price_type_id        and isnull(a.unit_id,'1') = isnull(b.unit_id,'1'))        and b.row_no >  @param1  and b.row_no <= @param2         ;]
2016-08-21 00:27:53,228   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.UpdateStatus] Prepared SQL: [update T_Sku_Price        set [status] = '-1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where sku_id =  @param2         and item_price_type_id =  @param3]
2016-08-21 00:27:53,228   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SkuPrice.UpdateUnDownloadIfFlag] Prepared SQL: [update t_item_price        set if_flag = '1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where bat_id =  @param2 ;          update t_sku_price        set if_flag = '1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where bat_id =  @param2 ;]
2016-08-21 00:27:53,228   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Inout.xml] to list of watched files.
2016-08-21 00:27:53,236   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Inout.Select] Prepared SQL: [select a.order_id        ,a.order_no        ,a.order_type_id        ,a.order_reason_id        ,a.red_flag        ,a.ref_order_id        ,a.ref_order_no        ,a.warehouse_id        ,a.order_date        ,a.request_date        ,a.complete_date        ,a.create_unit_id        ,a.unit_id        ,(select cs_name From t_customer_shop where customer_shop_id = a.unit_id) unit_name        ,a.related_unit_id        ,a.related_unit_code        ,a.pos_id        ,a.shift_id        ,a.sales_user        ,convert(decimal(18,4),a.total_amount*red_flag) total_amount        ,a.discount_rate        ,convert(decimal(18,4),a.actual_amount*red_flag) actual_amount        ,a.receive_points        ,a.pay_points        ,a.pay_id        ,a.print_times        ,a.carrier_id        ,a.remark        ,a.status        ,a.status_desc        ,convert(decimal(18,4),a.total_qty*red_flag) total_qty        ,convert(decimal(18,4),a.total_retail*red_flag) total_retail        ,a.keep_the_change        ,a.wiping_zero        ,(select vip_name From t_vip where vip_id = a.vip_no) vip_no        ,a.create_time        ,a.create_user_id        ,a.approve_time        ,a.approve_user_id        ,a.send_time        ,a.send_user_id        ,a.accpect_time        ,a.accpect_user_id        ,a.modify_time        ,a.modify_user_id        ,a.sales_unit_id        ,a.purchase_unit_id        ,a.data_from_id        ,(select prop_name From T_Prop where prop_id = a.data_from_id) data_from_name        ,(select order_type_code From T_Order_Type where order_type_id = a.order_type_id) order_type_code        ,(select reason_type_code From T_Order_Reason_Type where reason_type_id = a.order_reason_id) order_reason_code        ,(select order_type_name From T_Order_Type where order_type_id = a.order_type_id) order_type_name        ,(select reason_type_name From T_Order_Reason_Type where reason_type_id = a.order_reason_id) order_reason_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.create_unit_id) create_unit_name        ,(select USER_NAME From T_User where user_id = a.create_user_id) create_user_name        ,(select USER_NAME From T_User where user_id = a.modify_user_id) modify_user_name        ,(select USER_NAME From T_User where user_id = a.approve_user_id) approve_user_name        ,(select USER_NAME From T_User where user_id = a.accpect_user_id) accpect_user_name        ,(select USER_NAME From T_User where user_id = a.send_user_id) send_user_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.sales_unit_id) sales_unit_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.purchase_unit_id) purchase_unit_name        ,(select wh_name From t_warehouse where warehouse_id = a.warehouse_id) warehouse_name        From T_Inout a]
2016-08-21 00:27:53,236   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Inout.SelectById] Prepared SQL: [select a.order_id        ,a.order_no        ,a.order_type_id        ,a.order_reason_id        ,a.red_flag        ,a.ref_order_id        ,a.ref_order_no        ,a.warehouse_id        ,a.order_date        ,a.request_date        ,a.complete_date        ,a.create_unit_id        ,a.unit_id        ,(select cs_name From t_customer_shop where customer_shop_id = a.unit_id) unit_name        ,a.related_unit_id        ,a.related_unit_code        ,a.pos_id        ,a.shift_id        ,a.sales_user        ,convert(decimal(18,4),a.total_amount*red_flag) total_amount        ,a.discount_rate        ,convert(decimal(18,4),a.actual_amount*red_flag) actual_amount        ,a.receive_points        ,a.pay_points        ,a.pay_id        ,a.print_times        ,a.carrier_id        ,a.remark        ,a.status        ,a.status_desc        ,convert(decimal(18,4),a.total_qty*red_flag) total_qty        ,convert(decimal(18,4),a.total_retail*red_flag) total_retail        ,a.keep_the_change        ,a.wiping_zero        ,(select vip_name From t_vip where vip_id = a.vip_no) vip_no        ,a.create_time        ,a.create_user_id        ,a.approve_time        ,a.approve_user_id        ,a.send_time        ,a.send_user_id        ,a.accpect_time        ,a.accpect_user_id        ,a.modify_time        ,a.modify_user_id        ,a.sales_unit_id        ,a.purchase_unit_id        ,a.data_from_id        ,(select prop_name From T_Prop where prop_id = a.data_from_id) data_from_name        ,(select order_type_code From T_Order_Type where order_type_id = a.order_type_id) order_type_code        ,(select reason_type_code From T_Order_Reason_Type where reason_type_id = a.order_reason_id) order_reason_code        ,(select order_type_name From T_Order_Type where order_type_id = a.order_type_id) order_type_name        ,(select reason_type_name From T_Order_Reason_Type where reason_type_id = a.order_reason_id) order_reason_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.create_unit_id) create_unit_name        ,(select USER_NAME From T_User where user_id = a.create_user_id) create_user_name        ,(select USER_NAME From T_User where user_id = a.modify_user_id) modify_user_name        ,(select USER_NAME From T_User where user_id = a.approve_user_id) approve_user_name        ,(select USER_NAME From T_User where user_id = a.accpect_user_id) accpect_user_name        ,(select USER_NAME From T_User where user_id = a.send_user_id) send_user_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.sales_unit_id) sales_unit_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.purchase_unit_id) purchase_unit_name        ,(select wh_name From t_warehouse where warehouse_id = a.warehouse_id) warehouse_name        From T_Inout a                where a.order_id= @param0 ;]
2016-08-21 00:27:53,237   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Inout.SelectByShiftId] Prepared SQL: [select a.order_id        ,a.order_no        ,a.order_type_id        ,a.order_reason_id        ,a.red_flag        ,a.ref_order_id        ,a.ref_order_no        ,a.warehouse_id        ,a.order_date        ,a.request_date        ,a.complete_date        ,a.create_unit_id        ,a.unit_id        ,(select cs_name From t_customer_shop where customer_shop_id = a.unit_id) unit_name        ,a.related_unit_id        ,a.related_unit_code        ,a.pos_id        ,a.shift_id        ,a.sales_user        ,convert(decimal(18,4),a.total_amount*red_flag) total_amount        ,a.discount_rate        ,convert(decimal(18,4),a.actual_amount*red_flag) actual_amount        ,a.receive_points        ,a.pay_points        ,a.pay_id        ,a.print_times        ,a.carrier_id        ,a.remark        ,a.status        ,a.status_desc        ,convert(decimal(18,4),a.total_qty*red_flag) total_qty        ,convert(decimal(18,4),a.total_retail*red_flag) total_retail        ,a.keep_the_change        ,a.wiping_zero        ,(select vip_name From t_vip where vip_id = a.vip_no) vip_no        ,a.create_time        ,a.create_user_id        ,a.approve_time        ,a.approve_user_id        ,a.send_time        ,a.send_user_id        ,a.accpect_time        ,a.accpect_user_id        ,a.modify_time        ,a.modify_user_id        ,a.sales_unit_id        ,a.purchase_unit_id        ,a.data_from_id        ,(select prop_name From T_Prop where prop_id = a.data_from_id) data_from_name        ,(select order_type_code From T_Order_Type where order_type_id = a.order_type_id) order_type_code        ,(select reason_type_code From T_Order_Reason_Type where reason_type_id = a.order_reason_id) order_reason_code        ,(select order_type_name From T_Order_Type where order_type_id = a.order_type_id) order_type_name        ,(select reason_type_name From T_Order_Reason_Type where reason_type_id = a.order_reason_id) order_reason_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.create_unit_id) create_unit_name        ,(select USER_NAME From T_User where user_id = a.create_user_id) create_user_name        ,(select USER_NAME From T_User where user_id = a.modify_user_id) modify_user_name        ,(select USER_NAME From T_User where user_id = a.approve_user_id) approve_user_name        ,(select USER_NAME From T_User where user_id = a.accpect_user_id) accpect_user_name        ,(select USER_NAME From T_User where user_id = a.send_user_id) send_user_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.sales_unit_id) sales_unit_name        ,(select cs_name From t_customer_shop where customer_shop_id = a.purchase_unit_id) purchase_unit_name        ,(select wh_name From t_warehouse where warehouse_id = a.warehouse_id) warehouse_name        From T_Inout a                where a.shift_id= @param0 ;]
2016-08-21 00:27:53,238   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Inout.SelectOrderIdByOrderNo] Prepared SQL: [select top 1 order_id From (        select order_id From t_inout where order_no =  @param0         union all        select order_id From T_CC where order_no =  @param0         )x]
2016-08-21 00:27:53,239   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Inout.UpdateUnDownloadIfFlag] Prepared SQL: [update T_Inout        set if_flag = '1'        where bat_id =  @param0 ;]
2016-08-21 00:27:53,239   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [InoutDetail.xml] to list of watched files.
2016-08-21 00:27:53,242   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [InoutDetail.Select] Prepared SQL: [select a.order_detail_id        ,a.order_id        ,a.ref_order_detail_id        ,a.sku_id        ,a.unit_id        ,convert(decimal(18,4),a.order_qty*c.red_flag) order_qty        ,convert(decimal(18,4),a.enter_qty*c.red_flag) enter_qty        ,convert(decimal(18,4),a.enter_price*c.red_flag) enter_price        ,convert(decimal(18,4),a.enter_amount*c.red_flag) enter_amount        ,convert(decimal(18,4),a.std_price) std_price        ,a.discount_rate        ,convert(decimal(18,4),a.retail_price*c.red_flag) retail_price        ,convert(decimal(18,4),a.retail_amount*c.red_flag) retail_amount        ,convert(decimal(18,4),a.plan_price) plan_price        ,a.receive_points        ,a.pay_points        ,a.remark        ,a.pos_order_code        ,a.order_detail_status        ,a.display_index        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.ref_order_id        ,a.if_flag        ,b.item_code        ,b.item_name        ,b.prop_1_detail_name        ,b.prop_2_detail_name        ,b.prop_3_detail_name        ,b.prop_4_detail_name        ,b.prop_5_detail_name        ,(select discount_rate from t_inout where order_id = a.order_id)  order_discount_rate        From t_inout_detail a        left join vw_sku b        on(a.sku_id = b.sku_id)        inner join t_inout c        on(a.order_id = c.order_id)]
2016-08-21 00:27:53,243   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [InoutDetail.SelectByOrderId] Prepared SQL: [select a.order_detail_id        ,a.order_id        ,a.ref_order_detail_id        ,a.sku_id        ,a.unit_id        ,convert(decimal(18,4),a.order_qty*c.red_flag) order_qty        ,convert(decimal(18,4),a.enter_qty*c.red_flag) enter_qty        ,convert(decimal(18,4),a.enter_price*c.red_flag) enter_price        ,convert(decimal(18,4),a.enter_amount*c.red_flag) enter_amount        ,convert(decimal(18,4),a.std_price) std_price        ,a.discount_rate        ,convert(decimal(18,4),a.retail_price*c.red_flag) retail_price        ,convert(decimal(18,4),a.retail_amount*c.red_flag) retail_amount        ,convert(decimal(18,4),a.plan_price) plan_price        ,a.receive_points        ,a.pay_points        ,a.remark        ,a.pos_order_code        ,a.order_detail_status        ,a.display_index        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.ref_order_id        ,a.if_flag        ,b.item_code        ,b.item_name        ,b.prop_1_detail_name        ,b.prop_2_detail_name        ,b.prop_3_detail_name        ,b.prop_4_detail_name        ,b.prop_5_detail_name        ,(select discount_rate from t_inout where order_id = a.order_id)  order_discount_rate        From t_inout_detail a        left join vw_sku b        on(a.sku_id = b.sku_id)        inner join t_inout c        on(a.order_id = c.order_id)              where a.order_id= @param0         order by b.item_code]
2016-08-21 00:27:53,244   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Monitor.xml] to list of watched files.
2016-08-21 00:27:53,246   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Monitor.CheckExistMonitorLog] Prepared SQL: [select count(*)         from t_monitor_log        where monitor_log_id= @param0]
2016-08-21 00:27:53,250   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Monitor.InsertMonitorLog] Prepared SQL: [insert into t_monitor_log        (        monitor_log_id        ,customer_id        ,unit_id        ,pos_id        ,upload_time        ,remark        ,create_time        ,create_user_id        )        values        (         @param0         , @param1         , @param2         , @param3         , @param4         , @param5         , @param6         , @param7         )]
2016-08-21 00:27:53,250   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [AdOrder.xml] to list of watched files.
2016-08-21 00:27:53,258   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.CheckExistAdvertiseOrder] Prepared SQL: [select count(*)        from t_advertise_order        where order_id= @param0]
2016-08-21 00:27:53,258   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.GetAdList] Prepared SQL: [select a.*        from t_advertise a        inner join t_advertise_order_advertise b on a.advertise_id=b.advertise_id        inner join t_advertise_order c on b.order_id=c.order_id        where 1=1        and c.order_id= @param0]
2016-08-21 00:27:53,258   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.GetOrderAdList] Prepared SQL: [select a.*         from t_advertise_order_advertise a         where 1=1        and a.order_id= @param0]
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.GetOrderUnitList] Prepared SQL: [select a.*         from t_advertise_order_unit a         inner join t_customer_shop b on a.unit_id=b.customer_shop_id        where 1=1        and a.order_id= @param0         and b.customer_id= @param1]
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.InsertAdvertiseOrder] Prepared SQL: []
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.SetAdOrderBatId] Prepared SQL: [update T_Advertise_Order_Unit        set bat_no =  @param0         From T_Advertise_order_unit a        inner join t_customer_shop b        on(a.unit_id = b.customer_shop_id)        where order_id= @param1         and b.customer_id= @param2]
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.SetAdOrderListFlagByBatId] Prepared SQL: [update T_Advertise_Order_Unit        set if_flag='1'        where bat_no= @param0]
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [MobileUser.xml] to list of watched files.
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.Select] Prepared SQL: [select a.*,        '正常' user_status_desc        from t_user a]
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.SelectUserByAccount] Prepared SQL: [select a.*,        '正常' user_status_desc        from t_user a                inner jion t_user_role b        on(a.user_id = b.user_id)        where a.user_account= @param0         and a.user_status = '1'        and b.role_id = '1241B59CD41F478CB0FB377044BF9694']
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.SelectUserByID] Prepared SQL: [select a.*,        '正常' user_status_desc        from t_user a                where a.user_id= @param0]
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.SelectUserPwd] Prepared SQL: [select user_password from t_user        where user_id= @param0]
2016-08-21 00:27:53,259   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.InsertLoginLog] Prepared SQL: [INSERT INTO t_user_login(user_id ,login_ip,session_id)        VALUES( @param0 , @param1 , @param2 )]
2016-08-21 00:27:53,260   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.UpdateUserPwd] Prepared SQL: [update t_user        set user_password= @param0         where user_id= @param1         and user_status=1]
2016-08-21 00:27:53,260   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [CC.xml] to list of watched files.
2016-08-21 00:27:53,265   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.Select] Prepared SQL: [select a.order_id        ,a.order_no        ,a.order_date        ,a.order_type_id        ,a.order_reason_id        ,a.ref_order_id        ,a.ref_order_no        ,a.request_date        ,a.complete_date        ,a.unit_id        ,a.pos_id        ,a.warehouse_id        ,a.remark        ,a.data_from_id        ,a.status        ,a.status_desc        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.send_time        ,a.send_user_id        ,a.approve_time        ,a.approve_user_id        ,a.accpect_time        ,a.accpect_user_id        ,(select prop_name from T_Prop where prop_id = a.data_from_id) data_from_name        ,(select wh_name From t_warehouse where warehouse_id = a.warehouse_id) warehouse_name        ,(select unit_name From t_unit where unit_id = a.unit_id) unit_name        ,(select convert(decimal(18,4),sum(order_qty)) From t_cc_detail x where x.order_id = a.order_id group by x.order_id) total_qty        From T_CC a]
2016-08-21 00:27:53,265   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.SelectById] Prepared SQL: [select a.order_id        ,a.order_no        ,a.order_date        ,a.order_type_id        ,a.order_reason_id        ,a.ref_order_id        ,a.ref_order_no        ,a.request_date        ,a.complete_date        ,a.unit_id        ,a.pos_id        ,a.warehouse_id        ,a.remark        ,a.data_from_id        ,a.status        ,a.status_desc        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.send_time        ,a.send_user_id        ,a.approve_time        ,a.approve_user_id        ,a.accpect_time        ,a.accpect_user_id        ,(select prop_name from T_Prop where prop_id = a.data_from_id) data_from_name        ,(select wh_name From t_warehouse where warehouse_id = a.warehouse_id) warehouse_name        ,(select unit_name From t_unit where unit_id = a.unit_id) unit_name        ,(select convert(decimal(18,4),sum(order_qty)) From t_cc_detail x where x.order_id = a.order_id group by x.order_id) total_qty        From T_CC a                  where a.order_id= @param0 ;]
2016-08-21 00:27:53,266   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.IsExistAJ] Prepared SQL: [select COUNT(*) icount From t_unit a        inner join T_Unit_Property b        on(a.unit_id = b.unit_id)        inner join T_CC c        on(a.unit_id = c.unit_id)        inner join t_bill d        on(c.order_id = d.bill_id)        inner join T_Def_Bill_Status e        on(d.bill_Status = e.bill_status        and d.bill_kind_id=e.bill_kind_id)        where b.property_id = '7FEC7E91057A477DA030CD5449D0A372'        and b.property_value = '8F330D04320F4F05AC78912577BCE0FD'        and e.end_flag='1'        and c.order_id =  @param0 ;]
2016-08-21 00:27:53,266   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.IsHaveAJCount] Prepared SQL: [select COUNT(*) icount From t_inout        where ref_order_id =  @param0]
2016-08-21 00:27:53,266   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.IsCCDifference] Prepared SQL: [select COUNT(*) From T_CC_Detail        where end_qty <> order_qty        and order_id =  @param0]
2016-08-21 00:27:53,266   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.CheckExistMobileCCOrder] Prepared SQL: [select count(*)         from t_cc        where 1=1        and order_id =  @param0]
2016-08-21 00:27:53,266   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.CheckExistMobileCCOrderDetail] Prepared SQL: [select count(*)        from t_cc_detail        where 1=1        and order_detail_id =  @param0]
2016-08-21 00:27:53,266   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.CheckIsEndMobileCCOrder] Prepared SQL: [select count(*)        from t_cc        where 1=1        and order_id =  @param0         and status = '10']
2016-08-21 00:27:53,266   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [CCDetail.xml] to list of watched files.
2016-08-21 00:27:53,269   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.Select] Prepared SQL: [select a.order_detail_id        ,a.order_id        ,a.ref_order_detail_id        ,a.order_no        ,a.stock_balance_id        ,a.sku_id        ,a.warehouse_id        ,a.end_qty        ,a.order_qty        ,a.remark        ,a.display_index        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.if_flag        ,a.end_qty - a.order_qty difference_qty        ,b.item_code        ,b.item_name        ,b.prop_1_detail_name        ,b.prop_2_detail_name        ,b.prop_3_detail_name        ,b.prop_4_detail_name        ,b.prop_5_detail_name        From t_cc_detail a        inner join vw_sku b        on(a.sku_id = b.sku_id)]
2016-08-21 00:27:53,269   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.SelectByOrderDetailId] Prepared SQL: [select a.order_detail_id        ,a.order_id        ,a.ref_order_detail_id        ,a.order_no        ,a.stock_balance_id        ,a.sku_id        ,a.warehouse_id        ,a.end_qty        ,a.order_qty        ,a.remark        ,a.display_index        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.if_flag        ,a.end_qty - a.order_qty difference_qty        ,b.item_code        ,b.item_name        ,b.prop_1_detail_name        ,b.prop_2_detail_name        ,b.prop_3_detail_name        ,b.prop_4_detail_name        ,b.prop_5_detail_name        From t_cc_detail a        inner join vw_sku b        on(a.sku_id = b.sku_id)              where a.order_detail_id= @param0]
2016-08-21 00:27:53,270   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.SelectByOrderIdCount] Prepared SQL: [Declare @TmpTable Table        (order_detail_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (order_detail_id,row_no)        select x.order_detail_id ,x.rownum_ From (        select        rownum_=row_number() over(order by a.order_detail_id)        ,order_detail_id        from t_cc_detail a          where 1=1        and a.order_id =  @param0 ) x;          Declare @iCount int;          select @iCount = COUNT(*) From @TmpTable;                  select @iCount;]
2016-08-21 00:27:53,270   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.SelectByOrderId] Prepared SQL: [Declare @TmpTable Table        (order_detail_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (order_detail_id,row_no)        select x.order_detail_id ,x.rownum_ From (        select        rownum_=row_number() over(order by a.order_detail_id)        ,order_detail_id        from t_cc_detail a          where 1=1        and a.order_id =  @param0 ) x;          Declare @iCount int;          select @iCount = COUNT(*) From @TmpTable;                select a.order_detail_id        ,a.order_id        ,a.ref_order_detail_id        ,a.order_no        ,a.stock_balance_id        ,a.sku_id        ,a.warehouse_id        ,a.end_qty        ,a.order_qty        ,a.remark        ,a.display_index        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.if_flag        ,a.end_qty - a.order_qty difference_qty        ,b.item_code        ,b.item_name        ,b.prop_1_detail_name        ,b.prop_2_detail_name        ,b.prop_3_detail_name        ,b.prop_4_detail_name        ,b.prop_5_detail_name        ,c.row_no        ,@iCount icount        From t_cc_detail a        inner join vw_sku b        on(a.sku_id = b.sku_id)        inner join @TmpTable c        on(a.order_detail_id = c.order_detail_id)        where 1=1        and c.row_no >  @param1  and c.row_no <=  @param2         order by b.item_code        ;]
2016-08-21 00:27:53,271   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.IsCCDifference] Prepared SQL: [select COUNT(*) From T_CC_Detail        where end_qty <> order_qty          and order_id =  @param0]
2016-08-21 00:27:53,271   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [StockBalance.xml] to list of watched files.
2016-08-21 00:27:53,279   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [StockBalance.GetStockBalanceIdBySkuId] Prepared SQL: [select a.stock_balance_id        from t_stock_balance a        where 1=1        and a.unit_id= @param0         and a.warehouse_id= @param1         and a.sku_id= @param2]
2016-08-21 00:27:53,279   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Warehouse.xml] to list of watched files.
2016-08-21 00:27:53,282   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Warehouse.GetDefaultWarehouse] Prepared SQL: [select a.*        from t_warehouse a        inner join t_unit_warehouse b on a.warehouse_id=b.warehouse_id        where 1=1        and a.is_default = '1'        and b.unit_id= @param0]
2016-08-21 00:27:53,282   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Banner.xml] to list of watched files.
2016-08-21 00:27:53,284   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Banner.sql_SelectById] Prepared SQL: [select *,null as ActivityGroupName  From T_CTW_Banner where IsDelete=0 and AdId= @param0]
[Footer]\r\n