[Header]\r\n2016-08-21 00:22:19,946   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.CheckExistAdvertiseOrder] Prepared SQL: [select count(*)        from t_advertise_order        where order_id= @param0]
2016-08-21 00:22:19,953   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.GetAdList] Prepared SQL: [select a.*        from t_advertise a        inner join t_advertise_order_advertise b on a.advertise_id=b.advertise_id        inner join t_advertise_order c on b.order_id=c.order_id        where 1=1        and c.order_id= @param0]
2016-08-21 00:22:19,953   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.GetOrderAdList] Prepared SQL: [select a.*         from t_advertise_order_advertise a         where 1=1        and a.order_id= @param0]
2016-08-21 00:22:19,956   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.GetOrderUnitList] Prepared SQL: [select a.*         from t_advertise_order_unit a         inner join t_customer_shop b on a.unit_id=b.customer_shop_id        where 1=1        and a.order_id= @param0         and b.customer_id= @param1]
2016-08-21 00:22:19,956   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.InsertAdvertiseOrder] Prepared SQL: []
2016-08-21 00:22:19,956   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.SetAdOrderBatId] Prepared SQL: [update T_Advertise_Order_Unit        set bat_no =  @param0         From T_Advertise_order_unit a        inner join t_customer_shop b        on(a.unit_id = b.customer_shop_id)        where order_id= @param1         and b.customer_id= @param2]
2016-08-21 00:22:19,956   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [AdOrder.SetAdOrderListFlagByBatId] Prepared SQL: [update T_Advertise_Order_Unit        set if_flag='1'        where bat_no= @param0]
2016-08-21 00:22:19,956   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [MobileUser.xml] to list of watched files.
2016-08-21 00:22:19,957   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.Select] Prepared SQL: [select a.*,        '正常' user_status_desc        from t_user a]
2016-08-21 00:22:19,957   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.SelectUserByAccount] Prepared SQL: [select a.*,        '正常' user_status_desc        from t_user a                inner jion t_user_role b        on(a.user_id = b.user_id)        where a.user_account= @param0         and a.user_status = '1'        and b.role_id = '1241B59CD41F478CB0FB377044BF9694']
2016-08-21 00:22:19,957   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.SelectUserByID] Prepared SQL: [select a.*,        '正常' user_status_desc        from t_user a                where a.user_id= @param0]
2016-08-21 00:22:19,957   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.SelectUserPwd] Prepared SQL: [select user_password from t_user        where user_id= @param0]
2016-08-21 00:22:19,957   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.InsertLoginLog] Prepared SQL: [INSERT INTO t_user_login(user_id ,login_ip,session_id)        VALUES( @param0 , @param1 , @param2 )]
2016-08-21 00:22:19,957   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.MobileUser.UpdateUserPwd] Prepared SQL: [update t_user        set user_password= @param0         where user_id= @param1         and user_status=1]
2016-08-21 00:22:19,957   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [CC.xml] to list of watched files.
2016-08-21 00:22:19,962   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.Select] Prepared SQL: [select a.order_id        ,a.order_no        ,a.order_date        ,a.order_type_id        ,a.order_reason_id        ,a.ref_order_id        ,a.ref_order_no        ,a.request_date        ,a.complete_date        ,a.unit_id        ,a.pos_id        ,a.warehouse_id        ,a.remark        ,a.data_from_id        ,a.status        ,a.status_desc        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.send_time        ,a.send_user_id        ,a.approve_time        ,a.approve_user_id        ,a.accpect_time        ,a.accpect_user_id        ,(select prop_name from T_Prop where prop_id = a.data_from_id) data_from_name        ,(select wh_name From t_warehouse where warehouse_id = a.warehouse_id) warehouse_name        ,(select unit_name From t_unit where unit_id = a.unit_id) unit_name        ,(select convert(decimal(18,4),sum(order_qty)) From t_cc_detail x where x.order_id = a.order_id group by x.order_id) total_qty        From T_CC a]
2016-08-21 00:22:19,962   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.SelectById] Prepared SQL: [select a.order_id        ,a.order_no        ,a.order_date        ,a.order_type_id        ,a.order_reason_id        ,a.ref_order_id        ,a.ref_order_no        ,a.request_date        ,a.complete_date        ,a.unit_id        ,a.pos_id        ,a.warehouse_id        ,a.remark        ,a.data_from_id        ,a.status        ,a.status_desc        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.send_time        ,a.send_user_id        ,a.approve_time        ,a.approve_user_id        ,a.accpect_time        ,a.accpect_user_id        ,(select prop_name from T_Prop where prop_id = a.data_from_id) data_from_name        ,(select wh_name From t_warehouse where warehouse_id = a.warehouse_id) warehouse_name        ,(select unit_name From t_unit where unit_id = a.unit_id) unit_name        ,(select convert(decimal(18,4),sum(order_qty)) From t_cc_detail x where x.order_id = a.order_id group by x.order_id) total_qty        From T_CC a                  where a.order_id= @param0 ;]
2016-08-21 00:22:19,963   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.IsExistAJ] Prepared SQL: [select COUNT(*) icount From t_unit a        inner join T_Unit_Property b        on(a.unit_id = b.unit_id)        inner join T_CC c        on(a.unit_id = c.unit_id)        inner join t_bill d        on(c.order_id = d.bill_id)        inner join T_Def_Bill_Status e        on(d.bill_Status = e.bill_status        and d.bill_kind_id=e.bill_kind_id)        where b.property_id = '7FEC7E91057A477DA030CD5449D0A372'        and b.property_value = '8F330D04320F4F05AC78912577BCE0FD'        and e.end_flag='1'        and c.order_id =  @param0 ;]
2016-08-21 00:22:19,963   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.IsHaveAJCount] Prepared SQL: [select COUNT(*) icount From t_inout        where ref_order_id =  @param0]
2016-08-21 00:22:19,964   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.IsCCDifference] Prepared SQL: [select COUNT(*) From T_CC_Detail        where end_qty <> order_qty        and order_id =  @param0]
2016-08-21 00:22:19,964   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.CheckExistMobileCCOrder] Prepared SQL: [select count(*)         from t_cc        where 1=1        and order_id =  @param0]
2016-08-21 00:22:19,964   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.CheckExistMobileCCOrderDetail] Prepared SQL: [select count(*)        from t_cc_detail        where 1=1        and order_detail_id =  @param0]
2016-08-21 00:22:19,964   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CC.CheckIsEndMobileCCOrder] Prepared SQL: [select count(*)        from t_cc        where 1=1        and order_id =  @param0         and status = '10']
2016-08-21 00:22:19,964   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [CCDetail.xml] to list of watched files.
2016-08-21 00:22:19,968   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.Select] Prepared SQL: [select a.order_detail_id        ,a.order_id        ,a.ref_order_detail_id        ,a.order_no        ,a.stock_balance_id        ,a.sku_id        ,a.warehouse_id        ,a.end_qty        ,a.order_qty        ,a.remark        ,a.display_index        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.if_flag        ,a.end_qty - a.order_qty difference_qty        ,b.item_code        ,b.item_name        ,b.prop_1_detail_name        ,b.prop_2_detail_name        ,b.prop_3_detail_name        ,b.prop_4_detail_name        ,b.prop_5_detail_name        From t_cc_detail a        inner join vw_sku b        on(a.sku_id = b.sku_id)]
2016-08-21 00:22:19,968   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.SelectByOrderDetailId] Prepared SQL: [select a.order_detail_id        ,a.order_id        ,a.ref_order_detail_id        ,a.order_no        ,a.stock_balance_id        ,a.sku_id        ,a.warehouse_id        ,a.end_qty        ,a.order_qty        ,a.remark        ,a.display_index        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.if_flag        ,a.end_qty - a.order_qty difference_qty        ,b.item_code        ,b.item_name        ,b.prop_1_detail_name        ,b.prop_2_detail_name        ,b.prop_3_detail_name        ,b.prop_4_detail_name        ,b.prop_5_detail_name        From t_cc_detail a        inner join vw_sku b        on(a.sku_id = b.sku_id)              where a.order_detail_id= @param0]
2016-08-21 00:22:19,968   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.SelectByOrderIdCount] Prepared SQL: [Declare @TmpTable Table        (order_detail_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (order_detail_id,row_no)        select x.order_detail_id ,x.rownum_ From (        select        rownum_=row_number() over(order by a.order_detail_id)        ,order_detail_id        from t_cc_detail a          where 1=1        and a.order_id =  @param0 ) x;          Declare @iCount int;          select @iCount = COUNT(*) From @TmpTable;                  select @iCount;]
2016-08-21 00:22:19,968   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.SelectByOrderId] Prepared SQL: [Declare @TmpTable Table        (order_detail_id nvarchar(100)        ,row_no int        );          insert into @TmpTable (order_detail_id,row_no)        select x.order_detail_id ,x.rownum_ From (        select        rownum_=row_number() over(order by a.order_detail_id)        ,order_detail_id        from t_cc_detail a          where 1=1        and a.order_id =  @param0 ) x;          Declare @iCount int;          select @iCount = COUNT(*) From @TmpTable;                select a.order_detail_id        ,a.order_id        ,a.ref_order_detail_id        ,a.order_no        ,a.stock_balance_id        ,a.sku_id        ,a.warehouse_id        ,a.end_qty        ,a.order_qty        ,a.remark        ,a.display_index        ,a.create_time        ,a.create_user_id        ,a.modify_time        ,a.modify_user_id        ,a.if_flag        ,a.end_qty - a.order_qty difference_qty        ,b.item_code        ,b.item_name        ,b.prop_1_detail_name        ,b.prop_2_detail_name        ,b.prop_3_detail_name        ,b.prop_4_detail_name        ,b.prop_5_detail_name        ,c.row_no        ,@iCount icount        From t_cc_detail a        inner join vw_sku b        on(a.sku_id = b.sku_id)        inner join @TmpTable c        on(a.order_detail_id = c.order_detail_id)        where 1=1        and c.row_no >  @param1  and c.row_no <=  @param2         order by b.item_code        ;]
2016-08-21 00:22:19,969   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [CCDetail.IsCCDifference] Prepared SQL: [select COUNT(*) From T_CC_Detail        where end_qty <> order_qty          and order_id =  @param0]
2016-08-21 00:22:19,969   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [StockBalance.xml] to list of watched files.
2016-08-21 00:22:19,973   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [StockBalance.GetStockBalanceIdBySkuId] Prepared SQL: [select a.stock_balance_id        from t_stock_balance a        where 1=1        and a.unit_id= @param0         and a.warehouse_id= @param1         and a.sku_id= @param2]
2016-08-21 00:22:19,973   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Warehouse.xml] to list of watched files.
2016-08-21 00:22:19,976   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Warehouse.GetDefaultWarehouse] Prepared SQL: [select a.*        from t_warehouse a        inner join t_unit_warehouse b on a.warehouse_id=b.warehouse_id        where 1=1        and a.is_default = '1'        and b.unit_id= @param0]
2016-08-21 00:22:19,976   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [Banner.xml] to list of watched files.
2016-08-21 00:22:19,979   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Banner.sql_SelectById] Prepared SQL: [select *,null as ActivityGroupName  From T_CTW_Banner where IsDelete=0 and AdId= @param0]
2016-08-21 00:22:19,979   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Banner.sql_IsExist] Prepared SQL: [select COUNT(1) from T_CTW_Banner where IsDelete=0 and DisplayIndex= @param0]
2016-08-21 00:22:19,979   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Banner.sql_Insert] Prepared SQL: [insert into T_CTW_Banner(        AdId        ,ActivityGroupId        ,TemplateId        ,BannerImageId        ,BannerUrl        ,BannerName        ,DisplayIndex        ,Status        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete        )        VALUES        (         @param0 , @param1 ,  @param2 ,  @param3 , @param4 ,  @param5 ,  @param6 ,        10,GetDate(),  @param7 ,GetDate(),  @param8 ,0        )]
2016-08-21 00:22:19,979   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Banner.sql_Update] Prepared SQL: [update T_CTW_Banner        set        ActivityGroupId= @param0         ,TemplateId= @param1         ,BannerImageId= @param2         ,BannerUrl= @param3         ,BannerName= @param4         ,DisplayIndex= @param5         ,LastUpdateTime=GETDATE()        ,LastUpdateBy= @param6         where AdId =  @param7]
2016-08-21 00:22:19,979   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Banner.sql_Delete] Prepared SQL: [update T_CTW_Banner        set        IsDelete=1        ,LastUpdateTime=GETDATE()        ,LastUpdateBy= @param0         where AdId =  @param1]
2016-08-21 00:22:19,980   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Banner.sql_UpdateStatus] Prepared SQL: [update T_CTW_Banner        set        Status= @param0         ,LastUpdateTime=GETDATE()        ,LastUpdateBy= @param1         where AdId =  @param2]
2016-08-21 00:22:19,980   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Banner.sql_UpdateReleaseStatus] Prepared SQL: [update T_CTW_Banner        set        Status=30        ,LastUpdateTime=GETDATE() where IsDelete=0 and Status=20]
2016-08-21 00:22:19,980   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [SeasonPlan.xml] to list of watched files.
2016-08-21 00:22:19,981   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SeasonPlan.sql_SelectAll] Prepared SQL: [SELECT * FROM T_CTW_SeasonPlan where IsDelete=0 order by PlanDate]
2016-08-21 00:22:19,981   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SeasonPlan.sql_Insert] Prepared SQL: [insert into T_CTW_SeasonPlan(        SeasonPlanId        ,PlanDate        ,PlanName        ,DisplayIndex        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete        )        VALUES        (         @param0 , @param1 ,  @param2 ,  @param3 ,GetDate(),  @param4 , GetDate(),  @param5 ,0        )]
2016-08-21 00:22:19,982   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SeasonPlan.sql_Update] Prepared SQL: [Update T_CTW_SeasonPlan set        PlanDate= @param0         ,PlanName= @param1         ,LastUpdateTime=getdate()        ,LastUpdateBy= @param2          where SeasonPlanId =  @param3]
2016-08-21 00:22:19,982   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SeasonPlan.sql_Delete] Prepared SQL: [update T_CTW_SeasonPlan        set        IsDelete=1        ,LastUpdateTime=GETDATE()        ,LastUpdateBy= @param0         where SeasonPlanId =  @param1]
2016-08-21 00:22:19,982   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [SysMarketingGroupType.xml] to list of watched files.
2016-08-21 00:22:19,983   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SysMarketingGroupType.sql_selectAll] Prepared SQL: [select * from SysMarketingGroupType where IsDelete=0]
2016-08-21 00:22:19,983   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [LEventTemplate.xml] to list of watched files.
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTemplate.sql_SelectById] Prepared SQL: [select *,'' as ActivityGroupName from T_CTW_LEventTemplate where IsDelete=0 and TemplateId= @param0]
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTemplate.sql_IsExist] Prepared SQL: [select count(1) from T_CTW_LEventTemplate where IsDelete=0 and ActivityGroupId= @param0  and DisplayIndex= @param1]
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTemplate.sql_DropDownList] Prepared SQL: [SELECT *,'' as ActivityGroupName FROM T_CTW_LEventTemplate where IsDelete=0]
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTemplate.sql_Insert] Prepared SQL: [insert into T_CTW_LEventTemplate(        TemplateId        ,TemplateName        ,TemplateDesc        ,ActivityGroupId        ,TemplateStatus        ,ImageId        ,StartDate        ,EndDate        ,IsLongTime        ,DisplayIndex        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete)        VALUES        (         @param0 ,  @param1 ,  @param2 ,  @param3 , 10,  @param4 ,  @param5 ,         @param6 ,  @param7 ,  @param8 , Getdate(),  @param9 , Getdate(),  @param10 ,0        )]
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTemplate.sql_Update] Prepared SQL: [update T_CTW_LEventTemplate set        TemplateName= @param0         ,ActivityGroupId= @param1         ,ImageId= @param2         ,DisplayIndex= @param3         ,LastUpdateTime=Getdate()        ,LastUpdateBy= @param4         where TemplateId= @param5]
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTemplate.sql_Delete] Prepared SQL: [update T_CTW_LEventTemplate set        IsDelete=1        ,LastUpdateTime=Getdate()        ,LastUpdateBy= @param0          where TemplateId= @param1]
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTemplate.sql_UpdateStatus] Prepared SQL: [update T_CTW_LEventTemplate         set         TemplateStatus= @param0         ,LastUpdateTime=GETDATE()        ,LastUpdateBy= @param1         where TemplateId =  @param2]
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTemplate.sql_UpdateReleaseStatus] Prepared SQL: [update T_CTW_LEventTemplate        set        TemplateStatus=30 where IsDelete=0 and TemplateStatus=20]
2016-08-21 00:22:19,985   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [LEventTheme.xml] to list of watched files.
2016-08-21 00:22:19,987   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTheme.sql_SelectAll] Prepared SQL: [SELECT * FROM (select ROW_NUMBER() Over(order by a.LastUpdateTime desc) as rowNum, a.*,b.ImageUrl from T_CTW_LEventTheme as a        left join ObjectImages as b on a.ImageId=b.ImageId and b.IsDelete=0         where a.IsDelete=0 and a.TemplateId= @param0         ) as t where rowNum >  @param1  and rowNum <=  @param2]
2016-08-21 00:22:19,987   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTheme.sql_SelectByName] Prepared SQL: [select *,null as ImageUrl from T_CTW_LEventTheme where IsDelete=0 and ThemeName= @param0  and TemplateId= @param1]
2016-08-21 00:22:19,987   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTheme.sql_GetCount] Prepared SQL: [select count(1) From T_CTW_LEventTheme where IsDelete=0 and TemplateId= @param0]
2016-08-21 00:22:19,987   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTheme.sql_SelectById] Prepared SQL: [select *,null as ImageUrl from T_CTW_LEventTheme where IsDelete=0 and ThemeId= @param0]
2016-08-21 00:22:19,987   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTheme.sql_Insert] Prepared SQL: [insert into T_CTW_LEventTheme(        ThemeId        ,TemplateId        ,ThemeName        ,ImageId        ,H5Url        ,H5TemplateId        ,RCodeUrl        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete)        VALUES        (         @param0 ,  @param1 ,  @param2 ,  @param3 ,  @param4 ,  @param5 , @param6         ,GetDate(),  @param7 , GetDate(),  @param8 ,0        )]
2016-08-21 00:22:19,987   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTheme.sql_Update] Prepared SQL: [update T_CTW_LEventTheme set        ThemeName= @param0         ,ImageId= @param1         ,H5Url= @param2         ,H5TemplateId= @param3         ,LastUpdateTime=Getdate()        ,LastUpdateBy= @param4         where ThemeId= @param5]
2016-08-21 00:22:19,988   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventTheme.sql_Delete] Prepared SQL: [update T_CTW_LEventTheme set         IsDelete=1        ,LastUpdateTime=Getdate()        ,LastUpdateBy= @param0         where ThemeId= @param1]
2016-08-21 00:22:19,988   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [LEventInteraction.xml] to list of watched files.
2016-08-21 00:22:19,989   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventInteraction.sql_SelectAll] Prepared SQL: [SELECT * FROM (select ROW_NUMBER() Over(order by a.LastUpdateTime desc) as rowNum, a.*,b.DrawMethodName,        c.EventName,d.Title,'' as ActivityName,e.ThemeName        from T_CTW_LEventInteraction as a        left join T_CTW_LEventDrawMethod as b on a.DrawMethodId=b.DrawMethodId and b.IsDelete=0        left join T_CTW_PanicbuyingEvent as c on a.LeventId=c.EventId and c.IsDelete=0        left join T_CTW_LEvents as d on a.LeventId=d.EventID and d.IsDelete=0        left join T_CTW_LEventTheme as e on a.ThemeId=e.ThemeId and e.IsDelete=0        where a.IsDelete=0 and a.TemplateId= @param0         ) as t where rowNum >  @param1  and rowNum <=  @param2]
2016-08-21 00:22:19,989   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventInteraction.sql_GetCount] Prepared SQL: [select count(1) From T_CTW_LEventInteraction where IsDelete=0 and TemplateId= @param0]
2016-08-21 00:22:19,990   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventInteraction.sql_SelectById] Prepared SQL: [select *,null as DrawMethodName,null as EventName,null as Title,null as ActivityName,null as 'ThemeName'        from T_CTW_LEventInteraction where IsDelete=0 and InteractionId= @param0]
2016-08-21 00:22:19,990   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventInteraction.sql_IsExist] Prepared SQL: [select COUNT(1) from T_CTW_LEventInteraction where IsDelete=0 and InteractionType= @param0  and ThemeId= @param1]
2016-08-21 00:22:19,990   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventInteraction.sql_Insert] Prepared SQL: [insert into T_CTW_LEventInteraction(        InteractionId        ,TemplateId        ,ThemeId        ,InteractionType        ,DrawMethodId        ,LeventId        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete        )        VALUES        (         @param0 , @param1 ,  @param2 ,  @param3 , @param4 ,  @param5 ,        GetDate(),  @param6 , GetDate(),  @param7 ,0        )]
2016-08-21 00:22:19,990   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventInteraction.sql_Update] Prepared SQL: [Update T_CTW_LEventInteraction set         ThemeId= @param0         ,TemplateId= @param1         ,InteractionType= @param2         ,DrawMethodId= @param3         ,LeventId= @param4         ,LastUpdateTime=GETDATE()        ,LastUpdateBy= @param5         where InteractionId= @param6]
2016-08-21 00:22:19,990   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventInteraction.sql_Delete] Prepared SQL: [Update T_CTW_LEventInteraction set        IsDelete=1        ,LastUpdateTime=GETDATE()        ,LastUpdateBy= @param0         where InteractionId= @param1]
2016-08-21 00:22:19,990   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [SpreadSetting.xml] to list of watched files.
2016-08-21 00:22:19,993   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SpreadSetting.sql_SelectByWhere] Prepared SQL: [select a.*,b.ImageUrl from T_CTW_SpreadSetting as a        left join ObjectImages as b on a.ImageId=b.ImageId and b.IsDelete=0        where a.IsDelete=0 and a.TemplateId= @param0]
2016-08-21 00:22:19,993   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SpreadSetting.sql_Insert] Prepared SQL: [insert into T_CTW_SpreadSetting(        Id        ,SpreadType        ,Title        ,ImageId        ,Summary        ,PromptText        ,LeadPageSharePromptText        ,LeadPageFocusPromptText        ,LeadPageRegPromptText        ,TemplateId        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete        )        VALUES        (         @param0 , @param1 , @param2 ,  @param3 ,  @param4 , @param5 ,  @param6 , @param7 ,         @param8 , @param9 ,        GetDate(),  @param10 , GetDate(),  @param11 ,0        )]
2016-08-21 00:22:19,993   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [SpreadSetting.sql_Update] Prepared SQL: [Update T_CTW_SpreadSetting set Title= @param0 ,ImageId= @param1 ,Summary= @param2 ,PromptText= @param3 ,        LastUpdateTime=getdate(),LastUpdateBy=LastUpdateBy        where Id= @param4]
2016-08-21 00:22:19,993   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [ObjectImages.xml] to list of watched files.
2016-08-21 00:22:19,996   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ObjectImages.sql_SelectById] Prepared SQL: [select * from ObjectImages where IsDelete=0 and ImageId= @param0]
2016-08-21 00:22:19,996   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ObjectImages.sql_SelectByObjectId] Prepared SQL: [select * from ObjectImages where IsDelete=0 and ObjectId= @param0]
2016-08-21 00:22:19,996   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ObjectImages.sql_Insert] Prepared SQL: [insert into ObjectImages(        ImageId        ,ObjectId        ,ImageURL        ,DisplayIndex        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete        ,Title        ,Description        ,BatId        ,RuleId        ,RuleContent        )        VALUES        (         @param0 , @param1 , @param2 , @param3 ,getdate(), @param4 ,GETDATE(), @param5 ,0        , @param6 , @param7 , @param8 , @param9 , @param10         )]
2016-08-21 00:22:19,996   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ObjectImages.sql_Update] Prepared SQL: [update ObjectImages set ImageURL= @param0 ,LastUpdateBy= @param1 ,LastUpdateTime=getdate() where ImageId= @param2]
2016-08-21 00:22:19,996   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [ObjectImages.sql_UpdateByObjectId] Prepared SQL: [update ObjectImages set ObjectId= @param0  where ImageId= @param1]
2016-08-21 00:22:19,996   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [HomePageCommon.xml] to list of watched files.
2016-08-21 00:22:19,998   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [HomePageCommon.sql_SelectOne] Prepared SQL: [SELECT top 1 * FROM T_CTW_HomePageCommon where IsDelete=0]
2016-08-21 00:22:19,999   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [HomePageCommon.sql_Insert] Prepared SQL: [insert into T_CTW_HomePageCommon(        AdId        ,SetType        ,ImageId        ,CommRemark        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete        )        VALUES        (         @param0 ,'SeasonPlan',  @param1 ,  @param2 ,GetDate(),  @param3 , GetDate(),  @param4 ,0        )]
2016-08-21 00:22:19,999   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [HomePageCommon.sql_Update] Prepared SQL: [update T_CTW_HomePageCommon        set        ImageId= @param0         ,LastUpdateTime=GETDATE()        ,LastUpdateBy= @param1         where AdId =  @param2]
2016-08-21 00:22:19,999   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [LEventDrawMethod.xml] to list of watched files.
2016-08-21 00:22:20,001   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEventDrawMethod.sql_selectAll] Prepared SQL: [select * from T_CTW_LEventDrawMethod where IsDelete=0]
2016-08-21 00:22:20,001   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [PanicbuyingEvent.xml] to list of watched files.
2016-08-21 00:22:20,002   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [PanicbuyingEvent.sql_SelecAll] Prepared SQL: [select * from T_CTW_PanicbuyingEvent where IsDelete=0]
2016-08-21 00:22:20,002   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [PanicbuyingEvent.sql_SelectById] Prepared SQL: [select * from T_CTW_PanicbuyingEvent where IsDelete=0 and EventId= @param0]
2016-08-21 00:22:20,003   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [PanicbuyingEvent.sql_Insert] Prepared SQL: [insert into T_CTW_PanicbuyingEvent(        EventId        ,EventName        ,EventCode        ,ImageId        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete        )        VALUES        (         @param0 , @param1 ,  @param2 ,  @param3 ,GetDate(),  @param4 ,GetDate(),  @param5 ,0        )]
2016-08-21 00:22:20,003   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [PanicbuyingEvent.sql_Update] Prepared SQL: [update T_CTW_PanicbuyingEvent set        EventName= @param0         ,EventCode= @param1         ,ImageId= @param2         ,LastUpdateTime=GetDate()        ,LastUpdateBy= @param3         where EventId= @param4]
2016-08-21 00:22:20,003   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [PanicbuyingEvent.sql_Delete] Prepared SQL: [update T_CTW_PanicbuyingEvent set         Isdelete=1        ,LastUpdateTime=GetDate()        ,LastUpdateBy= @param0         where EventId= @param1]
2016-08-21 00:22:20,003   [20]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [LEvents.xml] to list of watched files.
2016-08-21 00:22:20,005   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEvents.sql_SelectById] Prepared SQL: [select * from T_CTW_LEvents where IsDelete=0 and EventID= @param0]
2016-08-21 00:22:20,006   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEvents.sql_SelectAll] Prepared SQL: [select * from T_CTW_LEvents where IsDelete=0]
2016-08-21 00:22:20,006   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEvents.sql_Insert] Prepared SQL: [insert into T_CTW_LEvents(        EventID        ,EventCode        ,Title        ,EventLevel        ,ParentEventID        ,Description        ,ImageURL        ,URL        ,IsSubEvent        ,EventStatus        ,DisplayIndex        ,CreateTime        ,CreateBy        ,LastUpdateTime        ,LastUpdateBy        ,IsDelete        ,DrawMethodId        ,EventFlag        )        VALUES        (         @param0 , @param1 ,  @param2 , @param3 , @param4 , @param5 , @param6 , @param7 , @param8 , @param9 , @param10         ,GetDate(), @param11 ,GetDate(), @param12 ,0        , @param13 , @param14         )]
2016-08-21 00:22:20,006   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEvents.sql_Update] Prepared SQL: [update T_CTW_LEvents set         Title= @param0         ,Description= @param1         ,LastUpdateTime=GetDate()        ,LastUpdateBy= @param2         where EventID= @param3]
2016-08-21 00:22:20,006   [20]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [LEvents.sql_Delete] Prepared SQL: [update T_CTW_LEvents set        Isdelete=1        ,LastUpdateTime=GetDate()        ,LastUpdateBy= @param0         where EventID= @param1]
2016-08-21 00:22:20,014   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [User.User.SelectUserByAccount] PreparedStatement : [with tab_status        as        (        select b1.*        from t_def_dic a1, t_def_dic_detail b1        where a1.dic_code='status' and a1.dic_id=b1.dic_id        )        select a.*,d.unit_id,        c.dd_name as user_status_desc        from t_user a        inner join tab_status c on  cast(a.user_status as char)=c.dd_code        inner join   t_user_role d on    a.user_id=d.user_id              where a.user_account= @param0]
2016-08-21 00:22:20,017   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [User.User.SelectUserByAccount] Parameters: [@param0=[value,admin]]
2016-08-21 00:22:20,017   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [User.User.SelectUserByAccount] Types: [@param0=[String, System.String]]
2016-08-21 00:22:20,084   [20]   DEBUG   IBatisNet.DataMapper.SqlMapSession   [(null)]   -   Open Connection "40190733" to "Microsoft SQL Server, provider V2.0.0.0 in framework .NET V2.0".
2016-08-21 00:22:20,101   [20]   DEBUG   IBatisNet.DataMapper.SqlMapSession   [(null)]   -   Close Connection "40190733" to "Microsoft SQL Server, provider V2.0.0.0 in framework .NET V2.0".
2016-08-21 00:22:20,103   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [User.User.InsertLoginLog] PreparedStatement : [INSERT INTO t_user_login(user_id ,login_ip,session_id)        VALUES( @param0 , @param1 , @param2 )]
2016-08-21 00:22:20,103   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [User.User.InsertLoginLog] Parameters: [@param0=[UserID,B87FBC7A6D664F67B65F9AD747C5E5DD], @param1=[LoginIP,::1], @param2=[SessionID,0nsbem5kt3obiaya3spdkqsf]]
2016-08-21 00:22:20,103   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [User.User.InsertLoginLog] Types: [@param0=[String, System.String], @param1=[String, System.String], @param2=[String, System.String]]
2016-08-21 00:22:20,103   [20]   DEBUG   IBatisNet.DataMapper.SqlMapSession   [(null)]   -   Open Connection "60769156" to "Microsoft SQL Server, provider V2.0.0.0 in framework .NET V2.0".
2016-08-21 00:22:20,115   [20]   DEBUG   IBatisNet.DataMapper.SqlMapSession   [(null)]   -   Close Connection "60769156" to "Microsoft SQL Server, provider V2.0.0.0 in framework .NET V2.0".
2016-08-21 00:22:21,268   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [Right.Menu.GetMenuListByAppCodeAndUserID] PreparedStatement : [select a.*        from t_def_menu a,        (        select b.menu_id from t_role_menu b, t_user_role c, t_def_app d, t_role e        where b.role_id=c.role_id and c.role_id=e.role_id and e.app_id=d.app_id        and d.app_code= @param0  and c.user_id= @param1         group by b.menu_id        ) b        where a.menu_id=b.menu_id        order by a.menu_level,a.display_index]
2016-08-21 00:22:21,268   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [Right.Menu.GetMenuListByAppCodeAndUserID] Parameters: [@param0=[AppCode,ap], @param1=[UserID,B87FBC7A6D664F67B65F9AD747C5E5DD]]
2016-08-21 00:22:21,268   [20]   DEBUG   IBatisNet.DataMapper.Commands.DefaultPreparedCommand   [(null)]   -   Statement Id: [Right.Menu.GetMenuListByAppCodeAndUserID] Types: [@param0=[String, System.String], @param1=[String, System.String]]
2016-08-21 00:22:21,270   [20]   DEBUG   IBatisNet.DataMapper.SqlMapSession   [(null)]   -   Open Connection "19538456" to "Microsoft SQL Server, provider V2.0.0.0 in framework .NET V2.0".
2016-08-21 00:22:21,291   [20]   DEBUG   IBatisNet.DataMapper.SqlMapSession   [(null)]   -   Close Connection "19538456" to "Microsoft SQL Server, provider V2.0.0.0 in framework .NET V2.0".
[Footer]\r\n[Header]\r\n2016-08-21 00:27:52,941   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [MSSqlMap.config] to list of watched files.
2016-08-21 00:27:53,008   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [operate.xml] to list of watched files.
2016-08-21 00:27:53,058   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.Operate.SelectTableStatus] Prepared SQL: [with tab_status        as        (        select * from vw_dic where dic_code='status'        )]
2016-08-21 00:27:53,059   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.Operate.SelectTableYesNo] Prepared SQL: [with tab_yesno        as        (        select * from vw_dic where dic_code='yes_no'        )]
2016-08-21 00:27:53,060   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [dictionary.xml] to list of watched files.
2016-08-21 00:27:53,062   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.Dictionary.Select] Prepared SQL: [select a.dic_id, a.dic_table, a.dic_field, a.dic_code, a.dic_name, a.dic_name_en,         a.dic_memo, a.create_user_id, a.create_time, a.modify_user_id, a.modify_time,         a.sys_modify_stamp, a.create_user_name, a.modify_user_name         from t_def_dic a]
2016-08-21 00:27:53,073   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.Dictionary.Insert] Prepared SQL: [insert into t_def_dic(dic_id, dic_table, dic_field, dic_code, dic_name, dic_name_en, dic_memo,        create_user_id, create_user_name, create_time)        values( @param0 ,  @param1 ,  @param2 ,  @param3 ,  @param4 ,  @param5 ,  @param6 ,         @param7 ,  @param8 ,  @param9 )]
2016-08-21 00:27:53,074   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.Dictionary.Update] Prepared SQL: [update t_def_dic set        dic_table =  @param0 ,        dic_field =  @param1 ,        dic_code =  @param2 ,        dic_name =  @param3 ,        dic_name_en =  @param4 ,        dic_memo =  @param5 ,        modify_user_id =  @param6 ,        modify_user_name =  @param7 ,        modify_time = getdate()        where dic_id =  @param8]
2016-08-21 00:27:53,075   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.Dictionary.Delete] Prepared SQL: [delete from t_def_dic        where dic_id= @param0]
2016-08-21 00:27:53,075   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [dictionary_detail.xml] to list of watched files.
2016-08-21 00:27:53,076   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.DictionaryDetail.Select] Prepared SQL: [select a.dic_table, a.dic_field, a.dic_code, a.dic_name, a.dic_name_en, a.dic_memo,        b.*        from t_def_dic a, t_def_dic_detail b        where a.dic_id=b.dic_id]
2016-08-21 00:27:53,077   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.DictionaryDetail.SelectByDictionaryCode] Prepared SQL: [select a.dic_table, a.dic_field, a.dic_code, a.dic_name, a.dic_name_en, a.dic_memo,        b.*        from t_def_dic a, t_def_dic_detail b        where a.dic_id=b.dic_id              and a.dic_code= @param0]
2016-08-21 00:27:53,077   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.DictionaryDetail.SelectByTableAndField] Prepared SQL: [select a.dic_table, a.dic_field, a.dic_code, a.dic_name, a.dic_name_en, a.dic_memo,        b.*        from t_def_dic a, t_def_dic_detail b        where a.dic_id=b.dic_id              and a.dic_table =  @param0         and a.dic_field =  @param1]
2016-08-21 00:27:53,077   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.DictionaryDetail.Insert] Prepared SQL: [insert into t_def_dic_detail(dic_detail_id, dic_id, dd_code, dd_name, dd_name_en, dd_memo,        create_user_id, create_user_name, create_time)        values( @param0 ,  @param1 ,  @param2 ,  @param3 ,  @param4 ,  @param5 ,         @param6 ,  @param7 ,  @param8 )]
2016-08-21 00:27:53,077   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.DictionaryDetail.Update] Prepared SQL: [update t_def_dic_detail set        dd_code =  @param0 ,        dd_name =  @param1 ,        dd_name_en =  @param2 ,        dd_memo =  @param3 ,        modify_user_id =  @param4 ,        modify_user_name =  @param5 ,        modify_time = getdate()        where dic_detail_id =  @param6]
2016-08-21 00:27:53,077   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.DictionaryDetail.Delete] Prepared SQL: [delete from t_def_dic_detail        where dic_detail_id= @param0]
2016-08-21 00:27:53,078   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Base.DictionaryDetail.DeleteByDictionary] Prepared SQL: [delete from t_def_dic_detail        where dic_id= @param0]
2016-08-21 00:27:53,078   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [kind.xml] to list of watched files.
2016-08-21 00:27:53,078   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.Kind.Select] Prepared SQL: [select a.bill_kind_id,a.bill_kind_code,a.bill_kind_name,a.bill_kind_name_en         from t_def_bill_kind a]
2016-08-21 00:27:53,078   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [action.xml] to list of watched files.
2016-08-21 00:27:53,080   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.Action.Select] Prepared SQL: [select a.bill_kind_id,a.bill_action_id,a.bill_action_name,a.bill_action_name_en,a.create_flag,a.modify_flag,a.delete_flag,a.approve_flag,a.reject_flag,a.reserve_flag         from t_def_bill_action a]
2016-08-21 00:27:53,080   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [status.xml] to list of watched files.
2016-08-21 00:27:53,081   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.Status.Select] Prepared SQL: [select a.bill_kind_id,a.bill_status_id,a.bill_status_name,a.bill_status_name_en,a.begin_flag,a.end_flag,a.delete_flag,a.reserve_flag,a.create_user_id,a.create_user_name,a.create_time,a.modify_user_id,a.modify_user_name,a.modify_time,a.sys_modify_stamp         from t_def_bill_status a]
2016-08-21 00:27:53,082   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.Status.Insert] Prepared SQL: [insert into t_def_bill_status(bill_kind_id,bill_status_id,bill_status_name,bill_status_name_en,        begin_flag,end_flag,delete_flag,reserve_flag,        create_user_id,create_user_name,create_time)        values( @param0  , @param1  , @param2  , @param3 ,         @param4  , @param5  , @param6  , @param7 ,         @param8  , @param9  ,getdate())]
2016-08-21 00:27:53,082   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.Status.Update] Prepared SQL: [update t_def_bill_status set        bill_status_name= @param0 ,        bill_status_name_en= @param1 ,        begin_flag= @param2 ,        end_flag= @param3 ,        delete_flag= @param4 ,        reserve_flag= @param5 ,        modify_user_id= @param6 ,        modify_user_name= @param7 ,        modify_time=getdate()        where bill_status_id= @param8]
2016-08-21 00:27:53,102   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.Status.Delete] Prepared SQL: [delete from t_def_bill_status         where 1=2]
2016-08-21 00:27:53,102   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [action_log.xml] to list of watched files.
2016-08-21 00:27:53,108   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.ActionLog.SelectByBillID] Prepared SQL: [select a.* from t_bill_action_log a        where a.bill_id= @param0         order by a.action_time desc]
2016-08-21 00:27:53,109   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.ActionLog.Insert] Prepared SQL: [insert into t_bill_action_log(bill_id,bill_action_id,bill_action_desc,        pre_bill_status_id,pre_bill_status_desc,cur_bill_status_id,cur_bill_status_desc,        action_user_id,action_user_name,action_time,action_comment)        values( @param0  , @param1  , @param2  ,         @param3 ,  @param4 ,  @param5 ,  @param6 ,         @param7 , @param8 , @param9 , @param10 )]
2016-08-21 00:27:53,109   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Bill.ActionLog.InsertBillActionLogWithoutFlow] Prepared SQL: [insert into t_bill_action_log(bill_id,bill_action_id,bill_action_desc,        pre_bill_status_id,pre_bill_status_desc,cur_bill_status_id,cur_bill_status_desc,        action_user_id,action_user_name,action_time,action_comment)        select  @param0 ,b.bill_action_id,b.bill_action_name,        '--','--','--','--',        isnull(c.[user_id],'--'),isnull(c.[user_name],'--'),getdate(), @param1         from t_def_bill_kind a        inner join t_def_bill_action b on b.bill_action_id=[dbo].uf_get_bill_action_id(a.bill_kind_id, @param2 , @param3 )        left join t_user c on c.[user_id]= @param4         where a.bill_kind_code= @param5]
2016-08-21 00:27:53,110   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [customer.xml] to list of watched files.
2016-08-21 00:27:53,120   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.SelectCustomer] Prepared SQL: [select a.*,        c.dd_name as customer_status_desc,'' as unit_code,'' as unit_name        ,isnull((select IsALD From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsALD        ,isnull((select IsPad From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsPad        ,isnull((select UnitId From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),'') UnitId        ,'' as unit_code,'' as unit_name        ,isnull(tc.Units,-1) Units        ,CASE WHEN tc.Units = -1 THEN '不限制' WHEN tc.Units IS NULL THEN '不限制'ELSE CAST(tc.Units AS NVARCHAR(10)) end Units_zh        from t_customer a        inner join vw_dic c on c.dic_code='status' and cast(a.customer_status as char)=c.dd_code        left join T_CustomerEx  tc on a.customer_code=tc.customer_code]
2016-08-21 00:27:53,120   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.SelectCustomerByVersionID] Prepared SQL: [select a.*,        c.dd_name as customer_status_desc,'' as unit_code,'' as unit_name        ,isnull((select IsALD From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsALD        ,isnull((select IsPad From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsPad        ,isnull((select UnitId From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),'') UnitId        ,'' as unit_code,'' as unit_name        ,isnull(tc.Units,-1) Units        ,CASE WHEN tc.Units = -1 THEN '不限制' WHEN tc.Units IS NULL THEN '不限制'ELSE CAST(tc.Units AS NVARCHAR(10)) end Units_zh        from t_customer a        inner join vw_dic c on c.dic_code='status' and cast(a.customer_status as char)=c.dd_code        left join T_CustomerEx  tc on a.customer_code=tc.customer_code              inner join CustomerModuleMapping cmm on cmm.CustomerID = a.customer_id and VocaVerMappingID =  @param0]
2016-08-21 00:27:53,121   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.SelectByID] Prepared SQL: [select a.*,        c.dd_name as customer_status_desc,'' as unit_code,'' as unit_name        ,isnull((select IsALD From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsALD        ,isnull((select IsPad From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsPad        ,isnull((select UnitId From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),'') UnitId        ,'' as unit_code,'' as unit_name        ,isnull(tc.Units,-1) Units        ,CASE WHEN tc.Units = -1 THEN '不限制' WHEN tc.Units IS NULL THEN '不限制'ELSE CAST(tc.Units AS NVARCHAR(10)) end Units_zh        from t_customer a        inner join vw_dic c on c.dic_code='status' and cast(a.customer_status as char)=c.dd_code        left join T_CustomerEx  tc on a.customer_code=tc.customer_code              where a.customer_id= @param0]
2016-08-21 00:27:53,121   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.SelectByCode] Prepared SQL: [select a.*,        c.dd_name as customer_status_desc,'' as unit_code,'' as unit_name        ,isnull((select IsALD From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsALD        ,isnull((select IsPad From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsPad        ,isnull((select UnitId From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),'') UnitId        ,'' as unit_code,'' as unit_name        ,isnull(tc.Units,-1) Units        ,CASE WHEN tc.Units = -1 THEN '不限制' WHEN tc.Units IS NULL THEN '不限制'ELSE CAST(tc.Units AS NVARCHAR(10)) end Units_zh        from t_customer a        inner join vw_dic c on c.dic_code='status' and cast(a.customer_status as char)=c.dd_code        left join T_CustomerEx  tc on a.customer_code=tc.customer_code              where a.customer_code= @param0]
2016-08-21 00:27:53,121   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.SelectIdByCode] Prepared SQL: [select customer_id From t_customer        where customer_code= @param0]
2016-08-21 00:27:53,121   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.SelectByMobileUser] Prepared SQL: [select a.*,        c.dd_name as customer_status_desc,'' as unit_code,'' as unit_name        ,isnull((select IsALD From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsALD        ,isnull((select IsPad From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),0) IsPad        ,isnull((select UnitId From TCustomerDataDeployMapping x where x.CustomerId = a.customer_id and x.IsDelete = '0'),'') UnitId        ,'' as unit_code,'' as unit_name        ,isnull(tc.Units,-1) Units        ,CASE WHEN tc.Units = -1 THEN '不限制' WHEN tc.Units IS NULL THEN '不限制'ELSE CAST(tc.Units AS NVARCHAR(10)) end Units_zh        from t_customer a        inner join vw_dic c on c.dic_code='status' and cast(a.customer_status as char)=c.dd_code        left join T_CustomerEx  tc on a.customer_code=tc.customer_code              inner join T_MobileUser_Customer d        on(a.customer_id = d.customer_id)        where d.user_id= @param0]
2016-08-21 00:27:53,123   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.CanCreateUser] Prepared SQL: [select case when a.max_user_count>a.user_count then 1 else 0 end        from (        select a.customer_id,a.max_user_count,count(b.customer_id) as user_count        from t_customer_connect a, t_customer_user b        where a.customer_id=b.customer_id and a.customer_id= @param0         group by a.customer_id,a.max_user_count        ) a]
2016-08-21 00:27:53,123   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.CanCreateShop] Prepared SQL: [select case when a.max_shop_count>a.shop_count then 1 else 0 end        from (        select a.customer_id,a.max_shop_count,count(b.customer_id) as shop_count        from t_customer_connect a, t_customer_shop b        where a.customer_id=b.customer_id and a.customer_id= @param0         group by a.customer_id,a.max_shop_count        ) a]
2016-08-21 00:27:53,123   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.CanCreateTerminal] Prepared SQL: [select case when a.max_terminal_count>a.terminal_count then 1 else 0 end        from (        select a.customer_id,a.max_terminal_count,count(b.customer_id) as terminal_count        from t_customer_connect a, t_customer_terminal b        where a.customer_id=b.customer_id and a.customer_id= @param0         group by a.customer_id,a.max_terminal_count        ) a]
2016-08-21 00:27:53,124   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.CheckExistBrandCustomerById] Prepared SQL: [select count(*)        from t_brand_customer        where brand_customer_id= @param0]
2016-08-21 00:27:53,124   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.GetBrandCustomerById] Prepared SQL: [select a.*        ,1 row_no        ,1 icount        ,b.user_name create_user_name        ,c.user_name modify_user_name        from t_brand_customer a        left join t_user b on a.create_user_id=b.user_id        left join t_user c on a.modify_user_id=c.user_id        where a.brand_customer_id= @param0]
2016-08-21 00:27:53,125   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.GetTDataDeployIdByCustomerId] Prepared SQL: [select a.DataDeployId        from TCustomerDataDeployMapping a        where 1=1 and isDelete='0'        and a.CustomerId= @param0]
2016-08-21 00:27:53,125   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.Insert] Prepared SQL: [insert into t_customer(customer_id,customer_code,customer_name,customer_name_en,        customer_address,customer_post_code,customer_contacter,customer_tel,customer_fax,customer_email,customer_cell,        customer_memo,customer_status,customer_start_date,create_user_id,create_time,create_user_name)        values( @param0 ,  @param1 ,  @param2 ,  @param3 ,         @param4 ,  @param5 ,  @param6 ,  @param7 ,  @param8 ,  @param9 ,  @param10 ,         @param11 , 1,  @param12 ,  @param13 , getdate(),  @param14 )]
2016-08-21 00:27:53,125   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.InsertBrandCustomer] Prepared SQL: [insert into t_brand_customer        (        brand_customer_id        ,brand_customer_code        ,brand_customer_name        ,brand_customer_eng        ,brand_customer_address        ,brand_customer_post        ,brand_customer_contacter        ,brand_customer_tel        ,brand_customer_email        ,status        ,create_user_id        ,create_time        ,modify_user_id        ,modify_time        )        values        (         @param0         , @param1         , @param2         , @param3         , @param4         , @param5         , @param6         , @param7         , @param8         , @param9         , @param10         , @param11         , @param12         , @param13         )]
2016-08-21 00:27:53,126   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.InsertTCustomerDataDeployMapping] Prepared SQL: [insert into TCustomerDataDeployMapping        (        MappingId        ,CustomerId        ,DataDeployId        ,CreateTime        ,CreateBy        ,LastUpdateBy        ,LastUpdateTime        ,IsDelete        ,IsALD        ,UnitId        )        values        (         @param0         , @param1         , @param2         , @param3         , @param4         , @param5         , @param6         ,'0'        , @param7         , @param8         )]
2016-08-21 00:27:53,126   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.CreateCustomerLimiUnit] Prepared SQL: [INSERT INTO [dbo].[T_CustomerEx]        ([customer_code]        ,[Units]        ,[CustomerId]        ,[CreateBy]        ,[CreateTime]        ,[LastUpdateBy]        ,[LastUpdateTime]        ,[IsDelete])        VALUES        ( @param0         , @param1         , @param2         , @param3         ,getdate()        , @param3         ,getdate()        ,0        )]
2016-08-21 00:27:53,126   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.Update] Prepared SQL: [update t_customer set        customer_code= @param0 ,        customer_name= @param1 ,        customer_address= @param2 ,        customer_post_code= @param3 ,        customer_contacter= @param4 ,        customer_tel= @param5 ,        customer_fax= @param6 ,        customer_email= @param7 ,        customer_cell= @param8 ,        customer_memo= @param9 ,        customer_name_en= @param10 ,        customer_start_date= @param11 ,        modify_user_id= @param12 ,        modify_user_name= @param13 ,        modify_time=getdate()        where customer_id= @param14]
2016-08-21 00:27:53,126   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.EnableCustomer] Prepared SQL: [update t_customer set        customer_status=1,        modify_user_id= @param0 ,        modify_user_name= @param1 ,        modify_time=getdate()        where customer_id= @param2]
2016-08-21 00:27:53,127   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.DisableCustomer] Prepared SQL: [update t_customer set        customer_status=-1,        modify_user_id= @param0 ,        modify_user_name= @param1 ,        modify_time=getdate()        where customer_id= @param2]
2016-08-21 00:27:53,127   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.UpdateStatus] Prepared SQL: [update t_customer set        customer_status =  @param0 ,        modify_user_id =  @param1 ,        modify_user_name =  @param2 ,        modify_time=getdate()        where customer_id= @param3]
2016-08-21 00:27:53,127   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.UpdateBrandCustomer] Prepared SQL: [update t_brand_customer set        brand_customer_code= @param0         ,brand_customer_name= @param1         ,brand_customer_eng= @param2         ,brand_customer_address= @param3         ,brand_customer_post= @param4         ,brand_customer_contacter= @param5         ,brand_customer_tel= @param6         ,brand_customer_email= @param7         ,status= @param8         ,modify_user_id= @param9         ,modify_time= @param10         where brand_customer_id= @param11]
2016-08-21 00:27:53,128   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.UpdateMobileCustomerNotPackagedIfFlag] Prepared SQL: [update T_MobileUser_Customer        set if_flag = '1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where bat_id =  @param2 ;]
2016-08-21 00:27:53,128   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.DeleteTCustomerDataDeployMappingByCustomerId] Prepared SQL: [update TCustomerDataDeployMapping        set IsDelete = '1'        ,LastUpdateTime =  @param0         ,LastUpdateBy =  @param1         where CustomerId =  @param2  and isDelete='0';]
2016-08-21 00:27:53,128   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Customer.UpdateCustomerLimiUnit] Prepared SQL: [Update [dbo].[T_CustomerEx]        SET [Units]= @param0           ,[LastUpdateBy]= @param1           ,[LastUpdateTime]=getdate()        WHERE [customer_code]= @param2]
2016-08-21 00:27:53,128   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [user.xml] to list of watched files.
2016-08-21 00:27:53,129   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.SelectUser] Prepared SQL: [select a.customer_code,a.customer_name,b.*,        e.dd_name as customer_status_desc        ,'' as UnitId ,'' as unit_code ,'' as unit_name        from t_customer a        inner join t_customer_user b on a.customer_id=b.customer_id        inner join vw_dic e on e.dic_code='status' and cast(a.customer_status as char)=e.dd_code]
2016-08-21 00:27:53,130   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.SelectUserByID] Prepared SQL: [select a.customer_code,a.customer_name,b.*,        e.dd_name as customer_status_desc        ,'' as UnitId ,'' as unit_code ,'' as unit_name        from t_customer a        inner join t_customer_user b on a.customer_id=b.customer_id        inner join vw_dic e on e.dic_code='status' and cast(a.customer_status as char)=e.dd_code              where b.customer_user_id= @param0]
2016-08-21 00:27:53,130   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.SelectUserByAccount] Prepared SQL: [select a.customer_code,a.customer_name,b.*,        e.dd_name as customer_status_desc        ,'' as UnitId ,'' as unit_code ,'' as unit_name        from t_customer a        inner join t_customer_user b on a.customer_id=b.customer_id        inner join vw_dic e on e.dic_code='status' and cast(a.customer_status as char)=e.dd_code                where b.customer_id= @param0  and b.cu_account= @param1]
2016-08-21 00:27:53,130   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.GetLoginCustomerUserIDByToken] Prepared SQL: [select customer_user_id        from t_customer_user_token where token_id= @param0          and datediff(Second,create_time,getdate())< @param1]
2016-08-21 00:27:53,130   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.InsertCustomerUserFromCP] Prepared SQL: [INSERT INTO [t_customer_user]        ([customer_id]        ,[customer_user_id]        ,[cu_account]        ,[cu_name]        ,[cu_pwd]        ,[cu_expired_date]        ,[sys_modify_stamp]        ,[cu_status]        ,[cu_status_desc])        VALUES        ( @param0 , @param1 , @param2 , @param3 , @param4 , @param5 ,        getdate(),1, @param6 )]
2016-08-21 00:27:53,130   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.InsertCustomerUserLoginToken] Prepared SQL: [insert into t_customer_user_token(token_id,customer_user_id)         values( @param0 , @param1 )]
2016-08-21 00:27:53,130   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.InsertLoginLog] Prepared SQL: [INSERT INTO t_customer_user_login(customer_user_id ,login_ip,session_id,token_id)        VALUES( @param0 , @param1 , @param2 , @param3 )]
2016-08-21 00:27:53,130   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.UpdateCustomerUserFromCP] Prepared SQL: [UPDATE [t_customer_user]        SET [cu_account] =  @param0               ,[cu_name] =  @param1                                   ,[cu_expired_date] =  @param2                       ,[sys_modify_stamp] = getdate()                          ,[cu_status_desc] =  @param3                           where customer_user_id= @param4]
2016-08-21 00:27:53,130   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.EnableCustomerUserFromCP] Prepared SQL: [update t_customer_user set        sys_modify_stamp = getdate(),        cu_status_desc =  @param0 ,        cu_status=1        where customer_user_id= @param1]
2016-08-21 00:27:53,131   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.DisableCustomerUserFromCP] Prepared SQL: [update t_customer_user set        sys_modify_stamp = getdate(),        cu_status_desc =  @param0 ,        cu_status=-1        where customer_user_id= @param1]
2016-08-21 00:27:53,131   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.ModifyCustomerUserPasswordFromCP] Prepared SQL: [update t_customer_user set        sys_modify_stamp = getdate(),        cu_pwd =  @param0         where customer_user_id= @param1]
2016-08-21 00:27:53,131   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.User.DeleteUserLoginToken] Prepared SQL: [delete from t_customer_user_token where token_id= @param0]
2016-08-21 00:27:53,131   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [connect.xml] to list of watched files.
2016-08-21 00:27:53,132   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Connect.SelectByID] Prepared SQL: [select a.*, b.customer_code, b.customer_name        from t_customer_connect a, t_customer b        where a.customer_id= @param0  and a.customer_id=b.customer_id]
2016-08-21 00:27:53,132   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Connect.SelectDataKeyByID] Prepared SQL: [select key_file from t_customer_connect        where customer_id= @param0]
2016-08-21 00:27:53,132   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Connect.Insert] Prepared SQL: [insert into t_customer_connect(customer_id        ,db_server,db_name,db_user,db_pwd        ,access_url, ws_url        ,max_shop_count,max_user_count,max_terminal_count        ,key_file)        VALUES        (         @param0 ,  @param1 ,  @param2 ,  @param3 ,  @param4 ,  @param5 ,  @param6 ,         @param7 ,  @param8 ,  @param9 ,  @param10         )]
2016-08-21 00:27:53,132   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Connect.Update] Prepared SQL: [UPDATE t_customer_connect        SET db_server =  @param0         ,db_name =  @param1         ,db_user = @param2         ,db_pwd =  @param3         ,access_url =  @param4         ,ws_url =  @param5         ,max_shop_count =  @param6         ,max_user_count =  @param7         ,max_terminal_count =  @param8         ,key_file =  @param9         WHERE customer_id= @param10]
2016-08-21 00:27:53,132   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [shop.xml] to list of watched files.
2016-08-21 00:27:53,136   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.SelectShop] Prepared SQL: [select a.customer_code,a.customer_name,        e.dd_name as customer_status_desc,        b.*        ,'' as UnitId ,'' as unit_code ,'' as unit_name        from t_customer a        inner join vw_dic e on e.dic_code='status' and cast(a.customer_status as char)=e.dd_code        inner join t_customer_shop b on a.customer_id=b.customer_id]
2016-08-21 00:27:53,136   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.SelectShopByID] Prepared SQL: [select a.customer_code,a.customer_name,        e.dd_name as customer_status_desc,        b.*        ,'' as UnitId ,'' as unit_code ,'' as unit_name        from t_customer a        inner join vw_dic e on e.dic_code='status' and cast(a.customer_status as char)=e.dd_code        inner join t_customer_shop b on a.customer_id=b.customer_id              where b.customer_shop_id= @param0]
2016-08-21 00:27:53,136   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.SelectMobileShopList] Prepared SQL: [select a.customer_code,a.customer_name,        '' customer_status_desc,        b.*        from t_customer a          inner join t_customer_shop b on a.customer_id=b.customer_id        inner join T_MobileUser_Shop c on(c.shop_id = b.customer_shop_id)        where c.user_id = @param0]
2016-08-21 00:27:53,136   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.SelectIdByCode] Prepared SQL: [select a.customer_shop_id From t_customer_shop a        inner join t_customer b        on(a.customer_id = b.customer_id)        where b.customer_code= @param0         and a.cs_code =  @param1 ;]
2016-08-21 00:27:53,137   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.InsertCustomerShopFromCP] Prepared SQL: [insert into t_customer_shop(customer_id, customer_shop_id, cs_code, cs_name,        cs_name_en, cs_name_short, cs_province, cs_city, cs_country, cs_address, cs_post_code,        cs_contact, cs_tel, cs_fax, cs_email, cs_remark, cs_status, cs_status_desc, sys_modify_stamp,        longitude, dimension)        values( @param0 ,  @param1 ,  @param2 ,  @param3 ,  @param4 ,  @param5 ,  @param6 ,  @param7 ,  @param8 ,         @param9 ,  @param10 ,  @param11 ,  @param12 ,  @param13 ,  @param14 ,  @param15 , 1,  @param16 , getdate(),         @param17 ,  @param18 )]
2016-08-21 00:27:53,138   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.UpdateCustomerShopFromCP] Prepared SQL: [update t_customer_shop set        cs_code =  @param0 ,        cs_name =  @param1 ,        cs_name_en =  @param2 ,        cs_name_short =  @param3 ,        cs_province =  @param4 ,        cs_city =  @param5 ,        cs_country =  @param6 ,        cs_address =  @param7 ,        cs_post_code =  @param8 ,        cs_contact =  @param9 ,        cs_tel =  @param10 ,        cs_fax =  @param11 ,        cs_email =  @param12 ,        cs_remark =  @param13 ,        cs_status_desc =  @param14 ,        sys_modify_stamp = getdate(),        longitude =  @param15 ,        dimension =  @param16         where customer_shop_id =  @param17]
2016-08-21 00:27:53,138   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.EnableCustomerShopFromCP] Prepared SQL: [update t_customer_shop set        sys_modify_stamp = getdate(),        cs_status_desc =  @param0 ,        cs_status=1        where customer_shop_id= @param1]
2016-08-21 00:27:53,138   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.DisableCustomerShopFromCP] Prepared SQL: [update t_customer_shop set        sys_modify_stamp = getdate(),        cs_status_desc =  @param0 ,        cs_status=-1        where customer_shop_id= @param1]
2016-08-21 00:27:53,138   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Shop.UpdateMobileCustomerShopNotPackagedIfFlag] Prepared SQL: [update T_MobileUser_Shop        set if_flag = '1'        ,Modify_Time =  @param0         ,Modify_User_Id =  @param1         where bat_id =  @param2 ;]
2016-08-21 00:27:53,138   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [menu.xml] to list of watched files.
2016-08-21 00:27:53,139   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Menu.SelectByCustomer] Prepared SQL: [select * from t_customer_menu where customer_id= @param0]
2016-08-21 00:27:53,139   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Menu.Insert] Prepared SQL: [insert into t_customer_menu(customer_menu_id, customer_id, menu_id)        values( @param0 ,  @param1 ,  @param2 )]
2016-08-21 00:27:53,139   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Menu.DeleteByCustomer] Prepared SQL: [delete from t_customer_menu where customer_id= @param0]
2016-08-21 00:27:53,139   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [terminal.xml] to list of watched files.
2016-08-21 00:27:53,142   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Terminal.Select] Prepared SQL: [select a.*        from t_customer_terminal a]
2016-08-21 00:27:53,143   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Terminal.SelectTerminal] Prepared SQL: [select a.customer_code,a.customer_name,b.*,        e.dd_name as customer_status_desc,        f.dd_name as ct_hold_type_desc,        g.dd_name as ct_type_desc        from t_customer a        inner join t_customer_terminal b on a.customer_id=b.customer_id        inner join vw_dic e on e.dic_code='status' and cast(a.customer_status as char)=e.dd_code        inner join vw_dic f on f.dic_code='terminal_hold_type' and b.ct_hold_type=f.dd_code        inner join vw_dic g on g.dic_code='terminal_type' and b.ct_type=g.dd_code]
2016-08-21 00:27:53,143   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Terminal.SelectTerminalByID] Prepared SQL: [select a.customer_code,a.customer_name,b.*,        e.dd_name as customer_status_desc,        f.dd_name as ct_hold_type_desc,        g.dd_name as ct_type_desc        from t_customer a        inner join t_customer_terminal b on a.customer_id=b.customer_id        inner join vw_dic e on e.dic_code='status' and cast(a.customer_status as char)=e.dd_code        inner join vw_dic f on f.dic_code='terminal_hold_type' and b.ct_hold_type=f.dd_code        inner join vw_dic g on g.dic_code='terminal_type' and b.ct_type=g.dd_code              where b.customer_terminal_id= @param0]
2016-08-21 00:27:53,143   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Terminal.InsertCustomerTerminalFromCP] Prepared SQL: [insert into t_customer_terminal(customer_id, customer_terminal_id, ct_hold_type,        ct_type, ct_brand, ct_model, ct_code, ct_sn,        ct_purchase_date, ct_insurance_date, ct_ws, ct_ws2, ct_software_version, ct_db_version,        ct_have_cashbox, ct_cashbox_no, ct_have_ecard, ct_ecard_no, ct_have_scanner, ct_scanner_no,        ct_have_client_display, ct_client_display_no, ct_have_printer, ct_printer_no,        ct_have_other_device, ct_other_device_no, ct_have_holder, ct_holder_no,        ct_remark, sys_modify_stamp)        values( @param0 ,  @param1 ,  @param2 ,         @param3 ,  @param4 ,  @param5 ,  @param6 ,  @param7 ,         @param8 ,  @param9 ,  @param10 ,  @param11 ,  @param12 ,  @param13 ,         @param14 ,  @param15 ,  @param16 ,  @param17 ,  @param18 ,  @param19 ,         @param20 ,  @param21 ,  @param22 ,  @param23 ,         @param24 ,  @param25 ,  @param26 ,  @param27 ,         @param28 , getdate())]
2016-08-21 00:27:53,144   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Terminal.Insert] Prepared SQL: [insert into t_customer_terminal(customer_id, customer_terminal_id, ct_hold_type,        ct_type, ct_brand, ct_model, ct_code, ct_sn,        ct_purchase_date, ct_insurance_date,         ct_ws, ct_ws2, ct_software_version, ct_db_version,        ct_have_cashbox, ct_cashbox_no, ct_have_ecard, ct_ecard_no, ct_have_scanner, ct_scanner_no,        ct_have_client_display, ct_client_display_no, ct_have_printer, ct_printer_no,        ct_have_other_device, ct_other_device_no, ct_have_holder, ct_holder_no,        ct_remark, create_user_id, create_user_name, create_time)        values( @param0 ,  @param1 , '1',         @param2 ,  @param3 ,  @param4 ,  @param5 ,  @param6 ,         @param7 ,  @param8 ,                 'http://10.0.32.125:9000','http://10.0.32.76:9000','1.1.1000','20120827080808',         @param9 ,  @param10 ,  @param11 ,  @param12 ,  @param13 ,  @param14 ,         @param15 ,  @param16 ,  @param17 ,  @param18 ,         @param19 ,  @param20 ,  @param21 ,  @param22 ,         @param23 ,  @param24 ,  @param25 , getdate())]
2016-08-21 00:27:53,144   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Terminal.Update] Prepared SQL: [update t_customer_terminal set        ct_type =  @param0 ,        ct_brand =  @param1 ,        ct_model =  @param2 ,        ct_code =  @param3 ,        ct_sn =  @param4 ,        ct_purchase_date =  @param5 ,        ct_insurance_date =  @param6 ,                ct_have_cashbox =  @param7 ,        ct_cashbox_no =  @param8 ,        ct_have_ecard =  @param9 ,        ct_ecard_no =  @param10 ,        ct_have_scanner =  @param11 ,        ct_scanner_no =  @param12 ,        ct_have_client_display =  @param13 ,        ct_client_display_no =  @param14 ,        ct_have_printer =  @param15 ,        ct_printer_no =  @param16 ,        ct_have_other_device =  @param17 ,        ct_other_device_no =  @param18 ,        ct_have_holder =  @param19 ,        ct_holder_no =  @param20 ,        ct_remark =  @param21 ,        modify_user_id=  @param22 ,        modify_user_name =  @param23 ,        modify_time = getdate()        where customer_terminal_id =  @param24]
2016-08-21 00:27:53,144   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Customer.Terminal.UpdateCustomerTerminalFromCP] Prepared SQL: [update t_customer_terminal set        ct_type =  @param0 ,        ct_brand =  @param1 ,        ct_model =  @param2 ,        ct_code =  @param3 ,        ct_sn =  @param4 ,        ct_purchase_date =  @param5 ,        ct_insurance_date =  @param6 ,        ct_ws =  @param7 ,        ct_ws2 =  @param8 ,        ct_software_version =  @param9 ,        ct_db_version =  @param10 ,        ct_have_cashbox =  @param11 ,        ct_cashbox_no =  @param12 ,        ct_have_ecard =  @param13 ,        ct_ecard_no =  @param14 ,        ct_have_scanner =  @param15 ,        ct_scanner_no =  @param16 ,        ct_have_client_display =  @param17 ,        ct_client_display_no =  @param18 ,        ct_have_printer =  @param19 ,        ct_printer_no =  @param20 ,        ct_have_other_device =  @param21 ,        ct_other_device_no =  @param22 ,        ct_have_holder =  @param23 ,        ct_holder_no =  @param24 ,        ct_remark =  @param25 ,        sys_modify_stamp = getdate()        where customer_terminal_id =  @param26]
2016-08-21 00:27:53,144   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [user.xml] to list of watched files.
2016-08-21 00:27:53,145   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.User.Select] Prepared SQL: [with tab_status        as        (        select b1.*        from t_def_dic a1, t_def_dic_detail b1        where a1.dic_code='status' and a1.dic_id=b1.dic_id        )        select a.*,d.unit_id,        c.dd_name as user_status_desc        from t_user a        inner join tab_status c on  cast(a.user_status as char)=c.dd_code        inner join   t_user_role d on    a.user_id=d.user_id]
2016-08-21 00:27:53,146   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.User.SelectUserByAccount] Prepared SQL: [with tab_status        as        (        select b1.*        from t_def_dic a1, t_def_dic_detail b1        where a1.dic_code='status' and a1.dic_id=b1.dic_id        )        select a.*,d.unit_id,        c.dd_name as user_status_desc        from t_user a        inner join tab_status c on  cast(a.user_status as char)=c.dd_code        inner join   t_user_role d on    a.user_id=d.user_id              where a.user_account= @param0]
2016-08-21 00:27:53,146   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.User.SelectUserByID] Prepared SQL: [with tab_status        as        (        select b1.*        from t_def_dic a1, t_def_dic_detail b1        where a1.dic_code='status' and a1.dic_id=b1.dic_id        )        select a.*,d.unit_id,        c.dd_name as user_status_desc        from t_user a        inner join tab_status c on  cast(a.user_status as char)=c.dd_code        inner join   t_user_role d on    a.user_id=d.user_id              where a.user_id= @param0]
2016-08-21 00:27:53,146   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.User.SelectUserPwd] Prepared SQL: [select user_password from t_user        where user_id= @param0]
2016-08-21 00:27:53,146   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.User.InsertLoginLog] Prepared SQL: [INSERT INTO t_user_login(user_id ,login_ip,session_id)        VALUES( @param0 , @param1 , @param2 )]
2016-08-21 00:27:53,146   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.User.UpdateUserPwd] Prepared SQL: [update t_user        set user_password= @param0         where user_id= @param1         and user_status=1]
2016-08-21 00:27:53,146   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [user_role.xml] to list of watched files.
2016-08-21 00:27:53,147   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.UserRole.Insert] Prepared SQL: [insert into t_user_role(user_role_id,user_id,role_id)        values( @param0 , @param1 , @param2 )]
2016-08-21 00:27:53,148   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [User.UserRole.DeleteByUserID] Prepared SQL: [delete from t_user_role         where user_id= @param0]
2016-08-21 00:27:53,148   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [app.xml] to list of watched files.
2016-08-21 00:27:53,149   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.App.GetAllAppList] Prepared SQL: [select * from t_def_app order by create_time desc]
2016-08-21 00:27:53,149   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.App.GetAllVersionList] Prepared SQL: [select cast(svvm.VocaVerMappingID as varchar(50)) as VocaVerMappingID,        voc.VocationDesc + ' -- ' + ver.VersionDesc as VersionName,*        from SysVocationVersionMapping svvm        left join SysVersion ver on ver.VersionID = svvm.VersionID and ver.IsDelete = 0        left join SysVocation voc on voc.VocationID = svvm.VocationID and voc.IsDelete = 0        where svvm.IsDelete = 0        order by VersionName]
2016-08-21 00:27:53,149   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.App.GetCustomerVisibleAppList] Prepared SQL: [select * from t_def_app        where app_code <> 'AP']
2016-08-21 00:27:53,149   [36]   DEBUG   IBatisNet.Common.Utilities.ConfigWatcherHandler   [(null)]   -   Adding file [menu.xml] to list of watched files.
2016-08-21 00:27:53,151   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetAllMenuListByCustomer] Prepared SQL: [select a.*       from t_def_menu a, t_customer_menu b       where a.menu_id=b.menu_id and b.customer_id= @param0]
2016-08-21 00:27:53,151   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetAllMenuListByRole] Prepared SQL: [select a.*        from t_def_menu a, t_role_menu b        where a.menu_id=b.menu_id and b.role_id= @param0]
2016-08-21 00:27:53,151   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetMenuListByAppCodeAndUserID] Prepared SQL: [select a.*        from t_def_menu a,        (        select b.menu_id from t_role_menu b, t_user_role c, t_def_app d, t_role e        where b.role_id=c.role_id and c.role_id=e.role_id and e.app_id=d.app_id        and d.app_code= @param0  and c.user_id= @param1         group by b.menu_id        ) b        where a.menu_id=b.menu_id        order by a.menu_level,a.display_index]
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetFirstLevelMenuListByAppCodeAndUserID] Prepared SQL: [select a.*        from t_def_menu a,        (        select b.menu_id from t_role_menu b, t_user_role c, t_def_app d, t_role e        where b.role_id=c.role_id and c.role_id=e.role_id and e.app_id=d.app_id        and d.app_code= @param0  and c.user_id= @param1         group by b.menu_id        ) b        where a.menu_id=b.menu_id and a.menu_level=1        order by a.display_index]
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetSubMenuListByUserIDAndMenuID] Prepared SQL: [select a.*        from t_def_menu a,        (        select b.menu_id from t_role_menu b, t_user_role c        where b.role_id=c.role_id and c.user_id= @param0         group by b.menu_id        ) b        where a.menu_id=b.menu_id and a.parent_menu_id= @param1  AND A.menu_status='1'        order by a.display_index]
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetAllMenuListByAppID] Prepared SQL: [select a.*        from t_def_menu a        where a.app_id= @param0  AND  menu_status='1']
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetAllMenuListByAppCode] Prepared SQL: [select a.*        from t_def_menu a, t_def_app b        where a.app_id=b.app_id and b.app_code= @param0]
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetFirstLevelMenuListByAppID] Prepared SQL: [select a.*,        b.dd_name as menu_status_desc,        c.dd_name as customer_visible_desc        from t_def_menu a        inner join vw_dic b on b.dic_code='status' and cast(a.menu_status as char)=b.dd_code        inner join vw_dic c on c.dic_code='yes_no' and cast(a.customer_visible as char)=c.dd_code        where a.app_id= @param0  and menu_level=1        order by a.display_index]
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetFirstLevelMenuListByAppIDAndVersion] Prepared SQL: [select a.app_id, a.menu_id, a.menu_code, a.menu_name, a.menu_name_en,        a.menu_level, a.url_path, a.icon_path, a.display_index, a.customer_visible, ISNULL(tv.Status,-1) as menu_status ,        a.parent_menu_id, a.create_user_id, a.create_user_name, a.create_time, a.modify_user_id, a.modify_user_name,        a.modify_time, a.sys_modify_stamp,a.remark,        ISNULL(b.dd_name,'停用') as menu_status_desc,        c.dd_name as customer_visible_desc,ISNULL(tv.IsCanAccess,0) as isCanAccess,tv.ID        from t_def_menu a        left join T_VocationVersionMenuMapping tv on tv.AppId = a.app_id and tv.MenuId = a.menu_id and tv.VocaVerMappingID= @param0         left join vw_dic b on b.dic_code='status' and cast(tv.Status as char)=b.dd_code        inner join vw_dic c on c.dic_code='yes_no' and cast(a.customer_visible as char)=c.dd_code        where a.app_id= @param1  and menu_level=1        order by a.display_index]
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetMenuListByAppIDAndVersion] Prepared SQL: [select a.app_id, a.menu_id, a.menu_code, a.menu_name, a.menu_name_en,        a.menu_level, a.url_path, a.icon_path, a.display_index, a.customer_visible, ISNULL(tv.Status,-1) as menu_status ,        a.parent_menu_id, a.create_user_id, a.create_user_name, a.create_time, a.modify_user_id, a.modify_user_name,        a.modify_time, a.sys_modify_stamp,ISNULL(tv.IsCanAccess,0) as isCanAccess        from t_def_menu a        left join T_VocationVersionMenuMapping tv on tv.AppId = a.app_id and tv.MenuId = a.menu_id and tv.VocaVerMappingID= @param0         where a.app_id= @param1  --and tv.[status] = 1        order by a.display_index]
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetSubMenuListByMenuID] Prepared SQL: [select a.*,        b.dd_name as menu_status_desc,        c.dd_name as customer_visible_desc        from t_def_menu a        inner join vw_dic b on b.dic_code='status' and cast(a.menu_status as char)=b.dd_code        inner join vw_dic c on c.dic_code='yes_no' and cast(a.customer_visible as char)=c.dd_code        where a.parent_menu_id= @param0         order by a.display_index]
2016-08-21 00:27:53,152   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetSubMenuListByAppVersionMenuID] Prepared SQL: [select a.app_id, a.menu_id, a.menu_code, a.menu_name, a.menu_name_en,        a.menu_level, a.url_path, a.icon_path, a.display_index, a.customer_visible, ISNULL(tv.Status,-1) as menu_status ,        a.parent_menu_id, a.create_user_id, a.create_user_name, a.create_time, a.modify_user_id, a.modify_user_name,        a.modify_time, a.sys_modify_stamp,a.remark,        ISNULL(b.dd_name,'停用') as menu_status_desc,        c.dd_name as customer_visible_desc,ISNULL(tv.IsCanAccess,0) as isCanAccess,tv.ID        from t_def_menu a        left join T_VocationVersionMenuMapping tv on tv.AppId = a.app_id and tv.MenuId = a.menu_id and tv.VocaVerMappingID= @param0         left join vw_dic b on b.dic_code='status' and cast(tv.Status as char)=b.dd_code        inner join vw_dic c on c.dic_code='yes_no' and cast(a.customer_visible as char)=c.dd_code        where a.parent_menu_id= @param1  and a.app_id =  @param2         order by a.display_index]
2016-08-21 00:27:53,153   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetMenuByID] Prepared SQL: [select a.*,        b.dd_name as menu_status_desc,        c.dd_name as customer_visible_desc        from t_def_menu a        inner join vw_dic b on b.dic_code='status' and cast(a.menu_status as char)=b.dd_code        inner join vw_dic c on c.dic_code='yes_no' and cast(a.customer_visible as char)=c.dd_code        where a.menu_id= @param0]
2016-08-21 00:27:53,153   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetVocationVersionMenuMappingByID] Prepared SQL: [SELECT * FROM T_VocationVersionMenuMapping         WHERE id= @param0]
2016-08-21 00:27:53,153   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.SelectVersionMenu] Prepared SQL: [select id        from T_VocationVersionMenuMapping        where VocaVerMappingID =  @param0  and AppId =  @param1  and MenuId =  @param2]
2016-08-21 00:27:53,153   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.GetMenuListByAppIDAndCustomerID] Prepared SQL: [select menu_id, reg_app_id as app_id, menu_code, parent_menu_id, menu_level, url_path, icon_path, display_index,        menu_name, user_flag as customer_visible, menu_eng_name as menu_name_en, status as menu_status, create_user_id,cast(create_time as datetime) as create_time, modify_user_id, cast(modify_time as datetime) as modify_time,        customer_id,create_user_id as create_user_name,modify_user_id as modify_user_name,getdate() as sys_modify_stamp        from t_menu        where customer_id =  @param0  and reg_app_id =  @param1]
2016-08-21 00:27:53,154   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.InsertRootMenu] Prepared SQL: [insert into t_def_menu(app_id,menu_id,menu_code,menu_name,menu_name_en,menu_level,        url_path,icon_path,display_index,customer_visible,menu_status,parent_menu_id,        create_user_id,create_user_name,create_time,remark)        values( @param0 , @param1 , @param2 , @param3 , @param4 ,1,         @param5 , @param6 , @param7 , @param8 ,1,'--',         @param9 , @param10 ,getdate(), @param11 )]
2016-08-21 00:27:53,154   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.InsertSubMenu] Prepared SQL: [insert into t_def_menu(app_id,menu_id,menu_code,menu_name,menu_name_en,menu_level,        url_path,icon_path,display_index,customer_visible,menu_status,parent_menu_id,        create_user_id,create_user_name,create_time,remark)        select app_id, @param0 , @param1 , @param2 , @param3 ,menu_level+1,         @param4 , @param5 , @param6 , @param7 ,1,menu_id,         @param8 , @param9 ,getdate(), @param10         from t_def_menu        where menu_id= @param11]
2016-08-21 00:27:53,154   [36]   DEBUG   IBatisNet.DataMapper.Configuration.Statements.PreparedStatementFactory   [(null)]   -   Statement Id: [Right.Menu.InsertVersionMenu] Prepared SQL: [insert into T_VocationVersionMenuMapping(Id, VocaVerMappingID, AppId, MenuId, Status, CreateBy, CreateTime, LastUpdateBy, LastUpdateTime,        IsDelete)        values(newid(), @param0 ,  @param1 ,  @param2 , 1,  @param3 , getdate(),  @param3 , getdate(),0)]
[Footer]\r\n